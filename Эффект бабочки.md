Эффект бабочки
===============

   
 2014-11-12, 23:45   
  В программе был список из некоторых элементов. В процессе его обработки я часть элементов копировал в другие места списка. Список расширялся.   
   
 Потом я стал модифицировать список. Некоторые элементы получили новые значения.   
   
 На определённом этапе я обнаружил, что элементы списка содержат неожиданные данные. А именно: я изменил лишь один элемент списка некоторого типа, однако по факту изменились  *все*  элементы этого типа. Хмм...   
   
 Догадались?   
   
 Это, оказывается, был список  *указателей*  на об'екты. И при копировании я копировал тоже указатели, а не создавал новые элементы. Таким образом, изменение одного элемента внешне изменяло все, которые на него ссылались (то есть, все, которые я как бы "скопировал").   
    
 <https://diary.ru/~zHz00/p201001284_jeffekt-babochki.htm>   
   
 Теги:   
 [[Программирование]]   
 ID: p201001284