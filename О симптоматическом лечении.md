О симптоматическом лечении
==========================

  
2018-06-29, 23:59  
 Одна из частых проблем с компьютером -- это тормоза. Сначала компьютер не тормозил, а потом с течением времени стал тормозить -- постепенно или скачком.   
   
 В подобных случаях пользователи порой прибегают к оптимизации работы системы при помощи различных трюков и оптимизаторов. Однако это то, что называется "искать потерянный кошелёк под фонарём". Найти можно, но вряд ли.   
   
 Оптимизация системы может немного увеличить производительность, однако проблемы не решит, поскольку, скорее всего, не устранит первопричину тормозов.   
   
 Причины могут быть весьма различными -- но в целом это либо программные, либо аппаратные проблемы.   
   
 Программные проблемы так просто не решаются в засранной системе, которой уже много лет (хотя некоторые умудряются засрать систему гораздо быстрее). Диагностировать их -- дело неблагодарное. Поэтому для большинства пользователей лучший выход -- это переустановка винды (на чистый винчестер/ссд).   
   
 А аппаратные проблемы характерны тем, что они сохранятся даже после переустановки.   
   
 Ещё одна проблема разнообразных оптимизаторов в том, что они могут только ухудшить состояние системы. Легко можно с незнакомым оптимизатором получить вирус. А я однажды доигрался с CCleaner до того, что у меня перестали создаваться новые пользователи. Это проблему я устранить так и не смог.   
   
 В общем, если вы не любитель поковыряться в кишочках винды, как я, то лечение должно заключаться в проведении тестов на надёжность аппаратуры (привет HDAT2 и MemTest86) и в переустановке винды. В каком порядке производить эти действия -- вопрос дискуссионный.   
  
<https://diary.ru/~zHz00/p215747146_o-simptomaticheskom-lechenii.htm>  
  
Теги:  
[[Борьба с техникой]]  
ID: p215747146  


Комментарии: 20
---------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/20) | 2018-06-30, 09:43 | deadlymercury | c733280303 |

  
 А теперь - анекдот-загадка: три абсолютно одинаковых сервера с абсолютно одинаковой конфигурацией ПО были переделаны из серверов postgresql в mysql. Два работают успешно - третий тормозит как черти что ![:)](http://static.diary.ru/picture/3.gif) При попытке решить проблему ОС вообще поломали к чертям.   
   
 Это программная или аппаратная проблема?)   
 ^c733280303

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/20) | 2018-06-30, 11:43 | zHz00 | c733281554 |

  
 Что поломали к чертям?   
 ^c733281554

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/20) | 2018-06-30, 13:36 | Crawling Chaos | c733283011 |

  
  А теперь - анекдот-загадка: три абсолютно одинаковых сервера с абсолютно одинаковой конфигурацией ПО были переделаны из серверов postgresql в mysql. Два работают успешно - третий тормозит как черти что При попытке решить проблему ОС вообще поломали к чертям.   
   
 Это программная или аппаратная проблема?)    
   
 Криворукость это программное)   
 ^c733283011

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/20) | 2018-07-01, 16:25 | Heyzer | c733304938 |

  
  Что поломали к чертям?   
    
 Линукс ![:)](http://static.diary.ru/picture/3.gif)   
   
 Я там мимокрокодилом был, но сначала там были классические симптомы нехватки памяти при том, что памяти было попой жуй. Потом что-то сделали, потом ребутнули - система отказалась грузиться и сервер тупо переналили)   
 ^c733304938

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/20) | 2018-07-03, 16:27 | himself | c733351547 |

  
 Если не устанавливал безумие на свой ПК, вот такие шаги очень долго продержат систему работоспособной:   
   
 1. Удали всё ПО, что не использовал больше года. Установка-удаление программ. Удаляй по максимуму.   
 2. Грохни всех пользователей, которые не используются. (Сначала штатно, затем их папки пользователей)   
 3. Очисть (удали своё барахло) и дефрагментируй системный диск. Выполни очистку диска (Disk Cleanup).   
 4. Очисть свой и нейтральный Temp, AppData (Local и Roaming) - просто проходишь по папкам и каждую обдумываешь. Тут нужен некоторый здравый смысл, могу изложить свой, но это не магия.   
 5. Удали всю хрень из автозагрузки с помощью Autoruns. С её помощью удали максимум хрени из эксплореровских плагинов (также утилиты NirSoft помогают - Autoruns по плагинам чуть недостаточен)   
 6. Пройди по всем папкам в Task Scheduler и отключи те задачи, которые явно хрень.   
 7. Можно натравить на диск sizesniffer и выявить всякие DownloadedInstallations, большинство можно грохнуть, предварительно прогуглив, что это безопасно.   
   
 Вот это сверху + сдержанность в установке ПО - система может работать нормально десятилетиями. Со временем накопится всякая хрень, которую инсталляторы забыли, а руками очень трудно проследить, всякие shared DLLs с зарегистрированными COM-классами, всякий мусор в системных папках, но это копится и влияет медленно.   
 ^c733351547

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/20) | 2018-07-04, 01:13 | zHz00 | c733362527 |

  
  [himself](http://himself.diary.ru "void")  , ты совершенно прав, но то, что ты пишешь -- это профилактика. А когда компа начал тормозить -- уже поздно пить боржоми.   
  [Heyzer](http://heyzero.diary.ru "Orca")  (  [deadlymercury](http://crazysupp.diary.ru "Записки безумного саппорта")  ), если переналитие помогло то, очевидно, проблема программная.   
 ^c733362527

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (7/20) | 2018-07-04, 09:20 | himself | c733364722 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , этим можно и тормозящий комп исправить в половине случаев. Раньше было нельзя, а сейчас можно.   
 ^c733364722

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (8/20) | 2018-07-04, 10:20 | zHz00 | c733365681 |

  
 Теперь это когда? В вин10? А что изменилось?   
 ^c733365681

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (9/20) | 2018-07-04, 11:02 | himself | c733366526 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , компы стали такими быстрыми, что ПО, которое их ощутимо тормозит - это хорошо заметные монстры.   
 ^c733366526

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (10/20) | 2018-07-04, 11:12 | Crawling Chaos | c733366742 |

  
  В вин10?    
  хорошо заметные монстры    
   
 вин10 сама по себе и есть хорошо заметный монстр)   
 ^c733366742

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (11/20) | 2018-07-04, 12:27 | deadlymercury | c733368336 |

  
  Heyzer (deadlymercury), если переналитие помогло то, очевидно, проблема программная.   
    
 Но ведь на двух других серверах проблемы нет и без переналивки ![;)](http://static.diary.ru/picture/1136.gif)   
   
 На самом деле проблема аппаратная и сегодня ночью это подтвердилось: рейд развалился, два диска из четырех якобы вылетели (хотя по смарту вроде как с ними все ок), рейд-контроллер перешел в безопасный режим и без замены дисков ничего не хочет.   
   
 Похоже проблема изначально была в том, что там было не четыре одинаковых диска - а две пары разных. Хотя не исключено, что рейд-контроллер под большой нагрузкой на диски начинает фигню делать. В том числе из-за того, что диски разные.   
   
 Короче это место в стойке проклятое, потому что это уже второй сервер там дохнет ![:)](http://static.diary.ru/picture/3.gif) )) Первый сдох вообще так, что не включается (точнее питание включается - от биоса ни ответа, ни привета, IPMI тоже не работает).   
 ^c733368336

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (12/20) | 2018-07-04, 12:43 | zHz00 | c733368692 |

  
  [deadlymercury](http://crazysupp.diary.ru "Записки безумного саппорта")  ,   
   
 >>если переналитие помогло   
   
 Значит, переналитие НЕ помогло!   
   
 Постой, на двух других серверах в рейде было тоже две разные пары дисков, а не четыре одинаковых диска?   
 ^c733368692

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (13/20) | 2018-07-04, 13:50 | deadlymercury | c733370231 |

  
 Помогло. Но через два дня сервер вообще сдох ![:)](http://static.diary.ru/picture/3.gif)   
 В остальных вроде оригинальные диски, в этом почему-то пару заменили - то ли вытаскивали на совсем, а потом сунули другие, то ли еще что.   
 ^c733370231

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (14/20) | 2018-07-04, 14:10 | RetXiRT suiR@ttig@$ | c733370762 |

  
   [himself](http://himself.diary.ru "void")  , а "Сервисы" в 7емёрке с Десяткой что, отменили?    
 ^c733370762

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (15/20) | 2018-07-04, 14:55 | zHz00 | c733371935 |

  
  [deadlymercury](http://crazysupp.diary.ru "Записки безумного саппорта")  , через два сдох -- это называется "не помогло".   
 ^c733371935

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (16/20) | 2018-07-04, 15:58 | himself | c733373553 |

  
  [RetXiRT suiR@ttig@$](http://Hellspawn.diary.ru "Горчичник")  , да, правда. Хотя если хрень поудалять, там обычно только виндовские укрощать надо.   
 ^c733373553

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (17/20) | 2018-07-04, 16:02 | zHz00 | c733373638 |

  
  [himself](http://himself.diary.ru "void")  , что правда? Вроде же не отменили.   
 ^c733373638

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (18/20) | 2018-07-04, 16:13 | RetXiRT suiR@ttig@$ | c733373902 |

  
   [himself](http://himself.diary.ru "void")  , я без подколки, всерьёз спрашивал, ибо не знал. И нет, не только. Гугло-/Хромосервисы, например, и удалять бесполезно — только ручками отключать (или переводить в ручной режим, простите за тавтологию). Со скайповскими, насколько я понимаю, то же самое, но да, это уже (давно?) Майкрософт, увы (хотя там, кажется, вообще не через "Сервисы". Я даже не уверен, что реестр поможет).    
 ^c733373902

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (19/20) | 2018-07-04, 22:40 | himself | c733383618 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , правда в смысле - не упомянул. А так не отменили.   
 ^c733383618

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (20/20) | 2018-07-05, 00:30 | deadlymercury | c733385918 |

  
  deadlymercury, через два сдох -- это называется "не помогло".   
    
 Но симптомы при этом сняло ![:)](http://static.diary.ru/picture/3.gif)   
   
 Скорее всего программная проблема (а там бд с репликацией мастер-мастер, возможны чудесатые чудеса) спровоцировала нагрузку на диски, что в обычном варианте не дает проблем, а на этой железке дало дикие тормоза и небывалые/неожиданные отказы. Переналивка исправила программную проблему и сервер умер от аппаратной проблемы потом - скорее всего во время снятия резервной копии.   
   
 Самое печальное что сейчас в этот сервер воткнули 4 одинаковых диска - и он несколько раз завис: непосредственно в утилите рейд-контроллера, в биосе и в меню выбора источника загрузки. С горем пополам его снова ввели в строй - но похоже повторится судьба предыдущего ![:)](http://static.diary.ru/picture/3.gif)   
 ^c733385918