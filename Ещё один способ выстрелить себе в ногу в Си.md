Ещё один способ выстрелить себе в ногу в Си
===========================================

  
2021-06-20, 01:15  
 Было написано что-то вроде такого:   
   
 b=2;   
 c=3;   
 d=4;   
   
 Я решил в начало добавить присваивание для a. Но начало строчки я написал, а значение дописать забыл. Получилось:   
   
 a=   
 b=2;   
 c=3;   
 d=4;   
   
 И это спокойно скомпилировалось и заработало (правда, неправильно). А почему? Потому что Си поддерживает цепочечные присваивания. И где у программиста новая строка -- ему плевать. Он воспринял этот текст следующим образом:   
   
 a=b=2;   
 c=3;   
 d=4;   
  
<https://diary.ru/~zHz00/p220762250_ewyo-odin-sposob-vystrelit-sebe-v-nogu-v-si.htm>  
  
Теги:  
[[Программирование]]  
[[Фейлы]]  
ID: p220762250  


Комментарии: 6
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/6) | 2021-06-20, 01:24 | Xersareeth | c752331516 |

  
 Но ведь для си есть чудесные статические анализаторы кода, которые такое ловят на раз. Ты почему не пользуешься!?   
 ^c752331516

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/6) | 2021-06-20, 01:34 | zHz00 | c752331542 |

  
  [Xersareeth](https://BurrowDeclassified.diary.ru "One more fang")  , ещё руки не дошли. Что посоветуешь?   
 ^c752331542

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/6) | 2021-06-20, 10:34 | Xersareeth | c752332247 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , Не могу ничего посоветовать, я ж не пишу на си. Но если судить по статьям на хабре, pvs-studio хорош.   
 ^c752332247

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/6) | 2021-06-20, 17:55 | Гость | c752334343 |

  
 Я думаю, ты и сам догадываешься, что я скажу.   
   
 Но я, к сожалению, не скажу, потому что ни GCC 10, ни Clang 11 не выдали тут никаких предупреждений (-Wall -Wextra). Даже -Wmisleading-indentation это не ловит! Отвратительно.   
   
 Тестировал на вот таком коде:   
   
 int main() { int a, b, c, d; a= b=2; c=3; d=4}   
   
 -- Minoru   
 ^c752334343

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/6) | 2021-06-20, 17:55 | Гость | c752334345 |

  
 Как же очуменно Дайри отображает блоки кода…   
   
 -- Minoru   
 ^c752334345

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/6) | 2021-06-20, 17:56 | Гость | c752334354 |

  
 Ой, пока разбирался с тегом code, потерял точку с запятой после «d=4».   
   
 -- Minoru   
 ^c752334354