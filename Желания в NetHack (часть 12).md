Желания в NetHack (часть 1/2)
=============================

  
2016-10-29, 22:45  
 Данный текст (его можно считать спойлером) является модифицированной версией следующей статьи nethackwiki:   
  [nethackwiki.com/wiki/Wish](https://nethackwiki.com/wiki/Wish)    
   
 Что сделано: * перевод на русский;
* перекомпонованы разделы, а раздел 4.4.3 переделан с нуля без потери смысла;
* добавлен раздел про желание артефактного оружия (4.5);
* в раздел 5 добавлены сведения из NetHack Wishing Spoiler;
* добавлены некоторые комментарии по 3.6.0 ("Примечание переводчика");
* добавлены мои личные замечания ("Примечание переводчика");
* в некоторых случаях текст перевода дополенен пояснениями, которых не было в оригинальном тексте. Это вызвано тем, что я счёл, что оригинальный текст может быть недостаточно понятен. В этих случаях моё авторство не указано;
* в паре случаев случаях текст оригинала заменён на иной, поскольку мой богатый опыт игры подсказывает мне, что эффективнее действовать иначе.

   
 О чём этот текст:   
 данный текст является довольно полным описанием процесса загадывания желаний в компьютерной игре NetHack. Описано как загадывать, что загадывать можно, что нельзя, и что в каких условиях загадывать ЛУЧШЕ. Также рассмотрены модификации оригинального NetHack.   
   
 Первая часть статьи содержит всё, что касается загадывания желаний в ванильной версии NetHack (3.4.3, 3.6.0).   
  [(читать статью)](https://zHz00.diary.ru/p210560490.htm?index=1#linkmore210560490m1)      
  *Примечание переводчика.*  * Примечания переводчика продолжаются до конца абзаца, где они начались;
* Большая часть игровых терминов и названий артефактов переведена на русский язык. Чтобы избежать непоняток, я дублирую названия на английском языке, причём стараюсь это делать каждый раз, когда слово встречается впервые в разделе, на случай, если игроки будут читать статью частями. Некоторые слова, однако, я считаю общепринятыми и нигде по тексту не дубриую английским оригиналом. Они приведены ниже:
	+ Святой, освящённый по тексту это blessed. Непроклятый -- uncursed. Проклятый -- cursed.
	+ "Заказать", "пожелать", "желать" и "загадать желание" используются в этой статье как синонимы для wish.
	+ Законопослушный -- это lawful, нейтральный -- neutral, хаотичный -- chaotic.

   
   
 Загадать желание -- возможность в NetHack, позволяющая получить произвольный предмет по вашему выбору.   
   
  **1 Методы загадывания желаний**    
 Существуют следующие методы получить желание:   
   
  **1)**  Написать на полу (engrave) или выстрелить (zap) при помощи палочки исполнения желаний (wand of wishing). Палочка -- единственный гарантированный метод (при условии, что ваша внутриигровая удача (luck) больше либо равна нулю). При отрицательной удаче вероятность получить желание равна (5+удача)/5. То есть, при удаче меньше либо равной -5 шанс получить желание равен нулю. Проклятые палочки могут взрываться, если ими выстреливать (шанс 1%), но при написании на полу они не взрываются. Свежесгенерированная палочка содержит от 1 до 3 зарядов до перезарядки и 3 заряда, если она была перезаряжена при помощи святого свитка зарядки (scroll of charging). После этого вы можете "выдавить" (wrest) ещё один заряд, чтобы получить последнее желание. Таким образом, палочка даёт 5-7 желаний (в UnNetHack меньше, см. раздел 8).   
   
  **2)**  Тереть (#rub) волшебную лампу (magic lamp), желательно освящённую, пока не появится джинн (djinni). Если лампа была освящена, то шанс получить желание равен 80% (для непроклятой 20%, для проклятой -- 5%). В худшем случае джинн начнёт вас атаковать, вместо того, чтобы дать желание (5% для святой лампы). После того, как джинн появится, волшебная лампа превращается в обычную масляную лампу (oil lamp). Таким образом, волшебная лампа даёт в среднем 0.8 желания. Теоретически, возможно получение более, чем 120 джиннов из лампы, но не из дымных зелий (smoky potion).   
  *Примечание переводчика.*  Если джинн вам не дал желания, то он не обязательно будет вас атаковать. В зависимости от святости зелья, с определённым шансом джинн может остаться мирным (peaceful).   
   
  **3)**  Выпить дымное зелье (smoky potion), желательно святое. Шанс получить джинна (djinni) равен 1/(13+2\*число созданных джиннов). Дальнейший шанс получить от него желание равен 80%, если зелье было святым. В худшем случае джинн вас атакует (5% для святого зелья). Когда джинн появляется из зелья, эффект зелья на вас не действует. Таким образом, святое дымное зелье даёт в среднем 4/(65+10\*количество созданных джиннов) желаний. После появления 120 джиннов они становятся вымершими (extinct) и больше не появляются.   
  *Примечание переводчика.*  Если джинн вам не дал желания, то он не обязательно будет вас атаковать. В зависимости от святости лампы, с определённым шансом джинн может остаться мирным (peaceful).   
   
  **4)**  Выпить (quaff) из фонтана (или макнуть (dip) в него что-нибудь) на уровне выше 20 (кроме случаев, когда у вас уже есть Амулет Йендора -- тогда желания из фонтана не выдаются). Шанс появления водного демона (water demon) равен 1/30, дальнейший шанс получить жаление равен (20-уровень подземелья)/100. Если демон не даст желание, он вас атакует. После каждого использования фонтан имеет 1/3 шанс высохнуть. Таким образом, каждый фонтан даёт в среднем (20-уровень подземелья)/1000 желаний. Побочные эффекты опасны. Они включают в себя появление водных щитомордников (water mocassin) с шансом 1/30, водной нимфы (1/30) или враждебного водного демона (шанс равен (80+уровень подземелья)/3000).   
   
  **5)**  Сесть на трон. Шанс равен 1/39. Каждая посадка на трон с шансом 1/3 приводит к тому, что трон пропадает, если только вас не телепортирует (это один из эффектов трона). Таким образом, каждый трон даёт в среднем 1/13 желания. Также возможны неприятные побочные эффекты.   
  *Примечание переводчика.*  Это включает в себя потерю всего золота, удары электричеством и появление вокруг нескольких драконов.   
   
  **6)**  Нажатие Ctrl+W в визард-моде (wizard mode). Это срабатывает всегда, но предназначено только для отладки игры.   
   
  **7)**  В SLASH'EM (см. раздел 7) вы получаете желание, когда цыганка вытягивает вам карту Бесконечность (Infinity).   
   
  **8)**  В SLASH'EM (см. раздел 7) вы получаете желание, когда съедаете серебряную пилюлю желания (silver wishing pill).   
   
 В Замке (Castle) всегда генерируется палочка исполнения желаний. Она расположена в одной из угловых комнат, в сундуке. Если вы не пытаетесь исполнить обет "без желаний" (wishless conduct), вы сможете загадать несколько желаний прежде, чем попадёте в Ад (Gehennom).   
 Успешное желание увеличивает время перед следующей молитвой (prayer timeout) на 50-149 ходов.   
   
  **2 Ограничения по желаниям**    
  **2.1 Чего желать нельзя**    
 Нельзя пожелать: * палочку исполнения желаний или волшебную лампу. Это сделано, чтобы нельзя было получить бесконечное число желаний.
* свой квестовый артефакт (quest artifact), хотя можно желать артефакты других ролей. Учтите, что вы не сможете взять в руки квестовый артефакт другой роли, если ваше вероисповедание (alignment) не совпадает с вероисповеданием артефакта. Подробнее об этом вы можете прочитать в статье  [Hugo/O'Donnell NetHack Artifacts Spoiler](http://www.steelypips.org/nethack/343/art1-343.html)  (EN).
* Амулет Йендора.
* предметы вызова (Колокол Открытия -- Bell of Opening, Канделябр Вызова -- the Candelabrum of Invocation и Книгу Мёртвых -- the Book of the Dead).
* каплю яда (venom), если вы не в визард-моде.

 Если пожелаете указанные предметы, то получите следующее (таблица 1):   
   
   *Таблица 1. Замена запрещённых предметов.*    

|  |  |
| --- | --- |
|  **Что просили**  |  **Что получите**  |
|  Амулет Йендора  |  Фальшивый амулет Йендора (cheap plastic imitation of Amulet of Yendor)  |
|  Канделябр Вызова  |  80% свеча из жира (tallow candle),  20% свеча из воска (wax candle)  |
|  Колокол Открытия  |  Колокольчик (bell)  |
|  Книга Мёртвых  |  Пустая книга (blank spellbook)  |
|  Собственный квестовый артефакт  |  Ничего  |
|  Волшебная лампа  |  Масляная лампа  |
|  Палочка исполнения желаний  |  90% палочка исполнения желаний (1:-1),  10% палочка палочка исполнения желаний (1:0)  |

    
  **2.2 Загадывание артефактов**    
 Если вы загадываете артефакт, то шанс получить его зависит от количества артефактов, которые уже были сгенерированы в игре (см. таблицу 2).   
   
   *Таблица 2. Шансы получить артефакт.*    

|  |  |  |  |
| --- | --- | --- | --- |
|  **Число артефактов**  |  **С 1 желания**  |  **С 2 желаний**  |  **С m желаний**  |
|  0  |  1.0  |  1.0  |  1.0  |
|  1  |  1.0  |  1.0  |  1.0  |
|  2  |  2/3  |  8/9  |
|  3  |  1/2  |  3/4  |
|  4  |  2/5  |  16/25  |
|  5  |  1/3  |  5/9  |
|  6  |  0.285  |  0.488  |
|  n  |  2/(n+1)  |  1-(1-2/(n+1))²  |  1-(1-2/(n+1))^m  |

    
 Если вы не получите артефакта, то желание пропадает впустую (сообщение: "For a moment, you feel something in your hands, but it disappears!"). Аналогично, если вы пожелаете свой квестовый артефат, ничего не получите (с выводом того же сообщения). Если артефакт уже был сгенерирован в игре, вы получаете предмет, который является базовым для данного артефакта.   
  *Примечание переводчика.*  Базовый предмет -- предмет, основные характеристики и правила взаимодействия которого с игровым миром проявляются также и у артефакта. Например, базовый предмет для Эскалибура (Excalibur) -- длинный меч (long sword). Это значит, что Эскалибур весит столько же, сколько длинный меч, также является одноручным оружием, также тренирует и требует для использования навыка "длинные мечи" и наносит тот же базовый урон 1d8/1d12 (хотя и даёт бонус).   
   
 Если вы получили квестовый артефакт, то не факт, что вы сможете им воспользоваться. За подробностями обратитесь к статье  [intelligent artifacts](https://nethackwiki.com/wiki/Intelligent_artifact)  (EN)   
 Если ваша вера не совпадает с верой артефакта, он вас стукнет. Это опасно, но, как правило, не смертельно. Урон составляет 4d10, если у вас нет сопротивления магии и 2d10, если есть. То есть, чтобы гарантированно не умереть. Надо иметь текущее здоровье (не максимальное!) не меньше 41 HP.   
   
 Желая артефакт, вы нарушаете обет "не желал артефактов" (artifact wishless), даже если ваше желание не исполнится.   
   
  **3 Уточнение желания**    
  **3.1 Указание количества предметов**    
 Вы можете желать только один предмет, если предметы такого типа не объединяются в инвентаре (т.е. не являются stackable). То есть, пожелать-то вы можете, но получите только один предмет.   
 Если предмет объединяемый, то можно заказать больше, чем один. Если количество оказалось меньше, чем бросок кубика d6, то вы получаете желаемое количество (см. таблицу 3). В противном случае вы получаете только один предмет.   
   
   *Таблица 3. Шансы получить несколько предметов.*    

|  |  |  |
| --- | --- | --- |
|  **Количество**  |  **Шанс получить**  |  **Среднее количество**  |
|  1  |  1  |  1.0  |
|  2  |  2/3  |  1.67  |
|  3  |  1/2  |  2.0  |
|  4  |  1/3  |  2.0  |
|  5  |  1/6  |  1.67  |
|  6+  |  0  |  1.0  |

    
 У этого правила есть исключения: * Свечи (candles) можно желать до 7 штук.
* Амуницию (стрелы (arrow), болты (crossbow bolt), сюрикены (shuriken), бумеранги (boomerang) и камни (rock)) можно желать до 20.   
  *Примечание переводчика.*  А в UnNetHack до 100!
* Золото (gold piece) можно желать до 5000.

 Остальное оружие дальнего боя типа метательных копий (javelin), кинжалов (dagger) и прочего должно желаться по обычным правилам объединяемых предметов.   
 Если вы пожелаете больше, желаемое количество не будет учитываться вообще (вы получите один экземпляр предмета), кроме золота. Если пожелать больше, чем 5000 золотых, вы получите 5000.   
   
 Если при желании вы указываете множественное число (например, "blessed scroll  **s**  of charging), игра будет считать, что вы хотите два предмета, применяя правило для желания количества, приведённое выше. Если же вы указываете количество, но пишете в единственном числе (например, "2 blessed  **scroll**  of charging"), игра игнорирует единственное число и использует количество, которое вы задали цифрами. Если вы указали 0 или меньше предметов, количество игнорируется и используется проверка на единственное/множественное число.   
   
 Большинство игроков желают 2 или 3 предмета. Желание 3 предметов даёт в среднем лучший результат, если вы исползуете много желаний/играете много игр. Желание двух предметов эффективнее с точки зрения исполнения конкретного текущего желания.   
   
  **3.2 Указания зачарования (enchantment)**    
 Аналогично с количеством, вы можете заказывать зачарованные вещи, если предмет может быть зачарованным. Если заказанное зачарование меньше либо равно броску кубика d5, вы получаете то, что хотели (см. таблицу 4). Иначе вы получаете предмет, зачарованный на +0.   
   
 Вы  *можете*  заказывать отрицательное зачарование с теми же шансами, что и равное по модулю положительное зачарование. Не очень понятно, правда, зачем это может кому-нибудь понадобиться.   
   
 Учтите, что если у вас отрицательная удача, любое зачарование большее, чем +2 автоматически становится отрицательным. Эта проверка осуществляется  *после*  того, как игра решает, дать ли вам заказанное зачарование. Проверка производится только для брони, оружия, колец и оружия-инструментов (weapon tools). То есть, если вы пожелаете +6 палочку удара (wand of striking), что, однако, является плохой идеей, и у вас отрицательная удача, то если вы вообще получите палочку, то она будет иметь от 4 до 6 зарядов, как будто бы ваша удача была положительной.   
   
   *Таблица 4. Шансы получить предмет с нужным зачарованием.*    

|  |  |  |
| --- | --- | --- |
|  **Зачарование**  |  **Шанс**  |  **Среднее**  |
|  0  |  1  |  0.0  |
|  ±1  |  1  |  1.0  |
|  ±2  |  4/5  |  1.6  |
|  ±3  |  3/5  |  1.8  |
|  ±4  |  2/5  |  1.6  |
|  ±5  |  1/5  |  1.0  |
|  ±(6+)  |  0  |  0.0  |

    
 Как и в случае с количеством, большинство игроков желают предметы, зачарованные на +2 или +3. +3 даёт лучшее зачарование в среднем, а +2 меньше зависит от случая, хотя и даёт худший средний результат. +4 и +5 не только имеют меньшее среднее, но и более рискованные, поэтому их обычно не заказывают. +1 работает всегда, но его среднее гораздо ниже, чем +2 или +3, так что это, как правило, не является хорошим выбором, если только вы не сохраняете обет безграмотности (illiterate) и не можете зачаровывать предметы сами. Остальные зачарования, очевидно, не являются особо полезными, если только вам не нужно отрицательное зачарование по какой-либо странной причине (например, если для разведения пудингов (pudding farming) вам нужно получить насквозь проржавевший орочий кинжал на -7 (-7 thoroughly rusted orcish dagger), однако этого можно достичь более простым способом).   
  *Примечание переводчика.*  В NetHack 3.6.0 разведение пуддингов сильно ограничили.   
   
 Когда вы желаете волшебные палочки и заряжаемые инструменты, заказ зачарования в формте +x будет трактоваться как желание x зарядов. И наоборот, желать dagger (y:x) это то же, что желать +x dagger (в данном случае первое число не учитывается). Это происходит по той причине, что зачарование и число зарядов у предмета хранится в одном и том же поле стрктуры, поэтому же в NetHack нет ни одного предмета, имеющего одновременно и зачарование и число зарядов.   
   
  **3.3 Указание степени святости**    
 Вы можете указать, будет ли ваш предмет святым, непроклятым или проклятым. Если ваша удача 0 или больше, ваше пожелание будет учтено.   
 Если ваша удача отрицательна, явное пожелание святого или непроклятого выдаст вам проклятый предмет (желание проклятых предметов в этом случае работает как полагается).   
 Если вы не указали степень святости, она будет случайной, как будто бы предмет был случайно сгенерирован на уровне. Удача в этом случае не учитывается.   
 Указание отрицательного зачарования в желании, даже -0, неявно закрепляет за предметом статус проклятого, если только вы явно не указали иначе.   
 Почти всегда следует заказывать святые предметы, кроме случаев, когда у вас отрицательная удача, либо когда вам нужны именно проклятые свиток или зелье. Волшебный фломастер (magic marker) надо заказывать непроклятым, чтобы можно было написать проклятый свиток при помощи проклятой бумаги. Если вам нужны и проклятые и непроклятые предметы одновременно (например, свитки геноцида (scroll of genocide) или зелья повышения уровня (potion of gain level), лучше желать проклятые, поскольку проще освятить предмет, чем проклять его.   
   
  **3.4 Указание устойчивости к воздействиям**    
 Вы можете попросить, чтобы предмет был огнеупорным (fireproof), устойчивым к разъедению (erodeproof, corrodeproof), исправленным (fixed), нержавеющим (rustproof) или гнилостойким (rotproof). Если ваша удача неотрицательная, а также если предмет может быть повреждён от воздействий (или является кристалльным ножом -- crysknife), ваше пожелание будет учтено.   
   
 NetHack не делает различия между различными типами защиты, так что вполне можно желать corrodeproof speed boots, fireproof crysknife, а игра подберёт подходящий тип защиты. Поэтому многие игроки рекомендуют  *всегда*  добавлять fixed, чтобы не оказалось, что вы забыли что-то защитить.   
   
 Если вы заказали уже испорченный каким-либо воздействием предмет, то защита к нему не применяется, даже если вы её явно указали.   
   
  **3.5 Указание типа монстра**    
 Когда вы желаете консервы (tin), труп (corpse), фигурку (figurine), яйцо (egg) или статую (satue), вы можете заказать, к какому монстру они будут относиться.   
   
 Если вы закажете консервы с монстром, который уже подвергся геноциду (genocide), вы получите пустую банку. Если вы закажете банку с уникальным именованным монстром, монстром, который не оставляет трупа, либо монстром, имеющим нулевую пищевую ценность (такому, как дух -- wraith), вы получите случайную банку. Также можно желать банку со шпинатом (tin of spinach).   
   
 Нельзя желать труп уникального монстра или монстра, не оставляющего тела. В этом случае вы получите случайный труп. Желание трупа квестового стража (quest guardian) выдаст труп соответствующего ролевого монстра (role monster).   
   
 Если вы желаете фигурку уникального монстра, любого монстра, являющегося человеком, или почтового демона (mail daemon), вы получаете случайную фигурку.   
   
 Если вы желаете яйцо монстра, который не откладывает яиц, вы получаете случайное яйцо. Если же вы пожелаете яйцо Скорпиона (квестового врага Рейнджера) -- Scorpius egg, вы получите яйцо обычного скорпиона -- scorpion egg. Вы  *можете*  желать яйца монстров, подвергнутых геноциду, но они никогда не вылупятся.   
   
 Желать статую любого монстра, включая уникальных, допустимо. Учтите, однако, что применение заклинания камень-в-мясо (stone to flesh) не всегда даст указанного монстра. Например, оживление статуи уникального монстра или квестового стража приведёт к появлению двойника (doppelganger) указанного монстра.   
   
  **3.6 Указание числа зарядов**    
 Хотя вы и можете указать явно число зарядов (напримеру, wand of death (0:7)), в обычной игре вы всегда будете получать минимальное число зарядов из двух вариантов: а) то, сколько зарядов вы заказали б) то, сколько зарядов случайно сгенерировалось. В связи с этим, указание зарядов нежелательно. Возможность сделать это добавлена для визард-мода, где вы всегда получаете желаемое число зарядов.   
   
 Также можно указывать число зарядов путём указания зачарования (приведённый выше пример будет выглядеть как +7 wand of death). Вы опечалитесь, заказав +10 magic marker и получив его с 10 зарядами максимум.   
   
 Как правило, нельзя указывать отрицательное число зарядов. Можно, однако, указать отрицательное зачарование, что для игры то же самое. Однако вне визард-мода это даст вам отменённую палочку (с числом зарядов -1). Желание отрицательного числа зарядов для заряжаемых инструментов даст 0 зарядов.   
   
  **3.7 Что ещё можно указать**  * holy, unholy работает так же, как и blessed, cursed для всех предметов;
* lit, burning (горящий), unlit, extinguished (потушенный) для ламп, свечей и зелья масла (potion of oil);
* unlabeled, unlabelled, blank (чистый) для свитков и книг заклинаний;
* poisoned (отравленный) для оружия, которое можно отравить, для еды и для контейнеров, в которых могут быть ловушки;
* greased (загрязнённый) для всех предметов;
* partly eaten (частично съеденный) для еды;
* historic (исторически ценный) для статуй;
* diluted (разбавленный) для зелий, кроме воды;
* empty (пустой) для консерных банок;
* можно указать просто категорию предметов, например scroll, spellbook. Тогда вы получите случайный предмет указанной категории;
* нажатие клавиши Enter в строке ввода желания, либо нажатие клавиши Escape, даст случайный предмет. Естественно, все ограничения не желания остаются без изменений, то есть нельзя получить волшебную лампу, заказав lamp, хотя к классу lamp относятся два предмета.

 Большинство указанного выше бесполезно, кроме следующего: * загрязнение может стать спасением для брони, оружия, книг, свитков, зелий и контейнеров;
* отравленное оружие эффективнее, чем обычное;
* частично съеденный труп детёныша василиска (partly eaten chickatrice corpse) весит меньше целого.

   
 Большинство игроков советует добавлять не думая ко всем желаниям fixed и greased, поскольку fixed безвредно (если только вы не хотите получить повреждённый предмет для красоты, например burnt magic marker, или вам не нужно очень плохое оружие для разведения пудингов, на сленге именуемое Puddingbane), а greased может повредить только предметам, которыми вы собираетесь кидаться.   
   
 Иметь загрязнённую броню особенно важно. Загрязнять надо даже те детали гардероба, которые не могут быть повреждены коррозией и прочим, поскольку загрязнённые шлемы, футболки, накидки и нательная броня могут защитить вас от хватания (grabbing), принудительного утопления (drowning) и мозгоедов ((master) mind flayer).   
   
  **3.8 Отказ от желания**    
 Если игрок неожиданно получил приглашение для ввода желания (например, от трона -- или выпив дымное зелье), но хочет сохранить обет "без желаний", можно пожелать "ничего" -- nothing, none, nil. Тогда обет не будет нарушен.   
   
  **4 Чего желать**    
 Как потратить желание наилучшим образом? Ответ на этот вопрос сильно зависит от вашей текущей игровой ситуации. Ниже приводятся несколько общих советов для начальной и завершающей стадий игры. Эти советы служат лишь для того, чтобы обозначить направление для размышлений и не подходят для всех случаев. В некоторых случаях лучше сохранить желание на будущее, особенно, если у вас есть всё, что вам сейчас нужно. Опытные игроки в состоянии сравнить ценность неиспользованного, но в любой момент доступного желания и пользы, которую оно может принести, если заказать в текущий момент наиболее ценный предмет из возможных. Неопытным же игрокам опыт ничто не заменит -- играйте и учитесь!   
 Следующие принципы применимы практически всегда: * если вы нашли палочку исполнения желаний и не можете определить (identify), сколько в ней осталось зарядов, для начала следует пожелать либо 2-3 святых свитка зарядки (blessed scroll of charging), либо непроклятый волшебный фломастер (uncursed magic marker), которым вы сможете написать свои святые (!) свитки зарядки и перезарядить палочку.
* гарантированно написать свиток зарядки вы сможете только в в следующих случаях:   
 а) если вы уже формально определили, как он называется;   
 б) либо если вы нашли и назвали (#name) все 4 свитка с базовой стоимостью 300;   
 в) либо если вы играете за волшебника (имеется ввиду роль, а не визард-мод).   
 Если вы хотите оставить часть желаний про запас, например до того момента, когда вы определите, как называется свиток зарядки, то волшебный фломастер будет более выгоден, поскольку им вы сможете написать три свитка зарядки, и у вас останутся заряды для нескольких других свитков.
* если палочку исполнения желаний вы обнаружили в костях, то, скорее всего, она уже была перезаряжена.

   
 Оставшаяся часть раздела подразумевает, что у вас есть средства, чтобы перезарядить палочку, если желания вы добываете оттуда.   
  **4.1 Одно желание, полученное в начале игры**    
 Наиболее частый источник ранних желаний -- волшебная лампа (magic lamp) (если игнорировать очень не ценящих свою жизнь низкоуровневих фонтанных выпивох (slightly suicidal early level fountain quaffers)). Правило тут такое, что лучший предмет, который можно пожелать в начале игры -- это драконья броня, если, конечно, вы не играете за монаха (monk). Цвет брони зависит от игровой ситуации: * **"blessed greased +2 gray dragon scale mail"**  (или +3) даёт сопротивление к магии (magic resistance);
* **"blessed greased +2 silver dragon scale mail"**  (или +3) даёт отражение (reflection).

 Что же из этого выбрать? Если у вас уже есть одно из этих свойств, надо выбирать другое. Например, волшебники (wizard) начинают игру с накидкой сопротивления магии (cloak of magic resistance). Им следует выбирать отражающую броню. Персонажи, уже добывшие амлует отражения (amulet of reflection) в Сокобане, с другой стороны, предпочтут броню с сопротилвением магии. Если у вас нету ни одного из свойств, выбор может быть труден. Чтобы сравнить преимщества, ознакомьтесь со статьёй  [GDSM versus SDSM](https://nethackwiki.com/wiki/GDSM_versus_SDSM)  (EN).   
   
 Монахам выбирать следует совершенно иное, поскольку у них огромный штраф за ношение нательной брони, что особенно заметно в начале игры. Для законопослушных и нейтральных монахов лучше всего будет пожелать какой-нибудь чужой квестовый артефакт (см. раздел 4.4). Хаотичным монахам следует желать   
 * **"blessed greased fireproof +2 cloak of magic resistance"**  (или +3),

 поскольку ни один хаотичный артефакт не предоставляет сопротивление магии. Если же монах не нуждается на текущий момент в сопротивлении магии, потратить желание с пользой он может, пожелав: * **"blessed greased +2 fireproof speed boots"**  -- сапоги-скороходы либо
* **"blessed greased +2 fireproof gauntlets of power"**  -- перчатки силы.

 Также неплохим выбором для хаотичного монаха будет   
 * **"Mater Key of Thievery"**  -- Мастер-ключ Воровства,

 поскольку он обладает очень ценным свойством уменьшать физический урон от врагов в 2 раза. Но посколькуо он является квестовым артефактом вора (rogue), он сам нанесёт вам урон, когда вы к нему прикоснётесь, см. раздел 2.2.   
   
  **4.2 Палочка исполнения желаний, найденная в начале игры**    
 Такой способ получения желаний в начале игры встречается значительно реже. Если вы нашли палочку, то вы скорее всего захотите некоторые или все из следующих предметов (в зависимости от того, что у вас уже есть): * драконья броня (см. раздел 4.1);
* артефактное оружие (если только вы не собираетесь получить его через жертвование);
* **"blessed greased bag of holding"**  -- сумку переноски, но учтите, что вы можете обнаружить её в Сокобане;
* **"blessed greased +2 fireproof speed boots"**  -- сапоги-скороходы.

 Также можно пожелать квестовый артефакт (см. раздел 4.4), но вы можете умереть, дотронувшиь до него.   
   
 Если вы обнаружили палочку исполнения желаний в магазине, её крайне легко определить, поскольку её базовая стоимость 500. А единственная палочка, у которой та же базовая стоимость -- это палка смерти (wand of death). Если у вас есть питомец, украсть палочку будет довольно просто. Если вы собираетесь обзавестись мощным питомцем (например, соблюдаете обет пацифиста), можно пожелать   
 * **"blessed figurine of Archon"**  -- святую фигурку Архонта. Но в 10% случаев он нападёт на вас, а в ещё 10% будет мирным, а не ручным, и желание будет потрачено зря.

 Если оба эти метода вам не подходят, то лучше просто найти всякой фигни на сумму 500 золотых и продать продавцу, а потом купить палочку.   
  *Примечание переводчика.*  Фактические цены в магазине зависят от вашей харизмы. Они могут быть в 2-3 раза выше базовой стоимости. А на Чёрном Рынке (Black Market) в UnNetHack/SLASH'EM -- в 10-30 раз выше.   
   
 Если вы не уверены, что ваш персонаж проживёт достаточно долго, чтобы заработать столько денег, можно пожелать   
 * **"5000 gold pieces"**

 и, расплатившись ими, получить палочку с только одним потраченным желанием, оставив себе приличную сдачу. Это, вероятно, самый безопасный способ, но награда за него также невелика, поскольку золото, как правило, является плохой тратой желания.   
   
  **4.3 Желания в конце игры**    
 На поздних стадиях игры желания, как правило, служат для того, чтобы дособрать набор для вознесения (ascension kit).   
 Если вам нужно много предметов, попробуйте пожелать   
 * **"blessed wand of polymorph"**  -- палочку превращения.

 Она является очень мощным средством для игроков, которые не чураются полипайлинга (polypiling).   
  *Примечание переводчика.*  Полипайлинг заключается в том, что вы кладёте несколько кучек ("pile" это "куча") ненужных предметов в ряд, потом стреляете вдоль ряда палочкой превращения ("poly" это сокращение от "polymorph" -- "превращение"). И см  **о**  трите, что получилось. Есть шанс получить что-нибудь ценное.   
   
 В большинстве случаев, применение полипайлинга (с заказом последних нескольких объектов через желание) в целях укомплектования набора для вознесения гораздо более эффективно, чем желание всех недостающих предметов по одному.   
   
 * **"uncursed magic marker"**  -- непроклятый волшебный фломастер может быть использован для написания проклятых свитков геноцида (cursed scroll of genocide). Их чтение приводит к появлению монстров указанного типа.

 Применение этой техники, как правило, более эффективно, чем непосредственное желание предметов, получаемых от конкретных монстров, поскольку один маркер (требующий одно желание на своё получение) может быть использован для написания по крайней мере четырёх свитков геноцида (с учётом перезарядки). Например, если ваш персонаж достаточно силён, вы можете получить драконью броню при помощи обратного (проклятого) геноцида драконов, вместо того, чтобы желать её напрямую. Другим примером является труп василиска (cockatrice corpse). Может быть более эффективным провести обратный геноцид василисков, чем желать труп. Чтобы защитить себя, выжгите на полу Elbereth и квадрат состоящий из Elbereth через одну клетку вокруг вас, чтобы драконы не отошли и не начали дышать.   
  *Примечание переводчика.*  В версии NetHack 3.6.0 урезана Elbereth: действует только надпись, на которой стоите вы, т.е. сделать клетку больше нельзя. Кроме того, даже выжженная надпись теперь может стираться.   
   
  **4.4 Желание квестовых артефактов**    
 См. также раздел 2.2 для общей информации о желании артефакта.   
   
 Как правило, не следует желать артефакты чужого вероисповедания. Он вывалится у вас из рук, и вы не сможете его подобрать. Низкоуровневые персонажы также должны избегать желания квестовых артефактов даже своего вероисповедания, поскольку у них может быть недостаточно здоровья, чтобы пережить неизбежный удар (см. раздел 2.2). Технически возможно носить с собой несколько артефактов различного вероисповедания при помощи смены вероисповедания или применения шлема противоположной веры (helm of opposite alignment), но это считается продвинутой техникой и редко применяется. Кроме того, следует учесть, что шлем противоположной веры не может превратить хаотичного или законопослушного персонажа в нейтрального, так что единственный способ для таких персонажей воспользоваться заказанным артефактом -- навсегда "перекреститься" на чужом алтаре.   
   
 Как указывалось выше, вы не можете желать свой собственный квестовый артефакт.   
   
  **4.4.1 Нейтральные персонажи**    
 Если вы нейтральный, то у вас есть по крайней мере четыре хороших артефакта на выбор: * **"blessed rustproof Eye of the Aethiopica"**  (Глаз Эфиопики) (если вы не волшебник (wizard)) даёт сопротивление магии (magic resistance)), быструю регенерацию маны, телепатию (telepathy) и возможность телепортироваться в любую ветвь подземелья при вызове (#invoke);
* **"blessed fireproof Platinum Yendorian Express Card"**  (Платиновая Карточка Йендориан Экспресс) (если вы не турист (tourist)) даёт сопротивление магии (magic resistance), телепатию (telepatht), а также непроклятую зарядку зарядку (эквивалентно uncursed scroll of charging) при вызове (#invoke);
* **"blessed Eyes of the Overworld"**  (Всевидящие Глаза) (если вы не монах (monk)) дают астральное зрение (astral vision) и сопротивление магии (magic resistance), при вызове (#invoke) -- просветление (enlightenment);
* **"blessed Orb of Fate"**  (Шар Судьбы) (если вы не валькирия (valkyrie)) даёт уменьшение физического и магического урона в два раза, и межуровневую телепортацию при вызове (телепортация будет неконтролируемой, если у вас нет контроля телепорта).   
  *Примечание переводчика.*  Данный артефакт очень тяжёлый по весу.

   
   
 Глаз Эфиопики особенно полезен нейтральным монахам. Из-за большого штрафа к шансу удара (to-hit) из-за брони и боевым искусствам (martial arts) вместо оружия, скорее всего они захотят потратить желание на сопротивление магии. В сравнинии с накидкой (cloak of magic resistance), которая даёт только сопротивление магии, данный квестовый артефакт гораздо мощнее. Восстановление маны очень полезно. поскольку монахи -- сильны в магии, а их начальные заклинания (какие бы они не были) становятся гораздо мощнее, если мана восстанавливается быстро. Телепортация между ветвями и телепатия также очень круты. Более того, монаху-вегетарианцу практически невозможно получить телепатию иным способом.   
   
 Всевидящие Глаза из данного списка самый худший выбор, однако астральное зрение, которое они дают, очень полезно при исследовании Геенны (Gehennom). Процесс становится менее скучным и больше не требует большого количества свитков волшебной картографии (magic mapping). Следует, однако, отметить, что те игроки, которые могут читать заклинания волшебной картографии, поиска сокровищ и монстров (detect treasure, detect monster) на уровне "опытный" (skilled) и выше, получают все ключевые преимущества Глаз и так, причём видят не часть уровня, как при астральном зрении, а весь уровень целиком. Хотя это, естественно, требует знаний соответствующих заклинаний (книги с ними надо как-то достать) и возможности более-менее уверенно их кастовать.   
   
  **4.4.2 Законопослушные персонажи**    
 Все три предмета, указанные ниже, дают сопротивление магии (magic resistance). Наиболее распространённый выбор законопослушных персонажей: * **"Sceptre of Might"**  (Скипетр Силы) даёт конфликт (conflict) без применения кольца и даёт двойной урон не-законопослушным монстрам;
* **"Orb of Detection"**  (Шар Поиска) даёт телепатию (telepathy) и уменьшение урона от заклинаний в 2 раза, но весит гораздо больше остальных двух предметов;
* **"Magic Mirror of Merlin"**  (Волшебное Зеркало Мерлина) даёт телепатию (telepathy).

   
 Если у вас уже есть сопротивление магии, попробуйте это:   
 * **"Mitre of Holiness"**  (Митра Святости) даёт восполнение части маны при вызове (#invoke).

   
  **4.4.3 Хаотичные персонажи**    
 Хаотичных артефакта всего два и ни один из них не даёт сопротивления магии (magic resistance):   
 * **"Longbow of Diana"**  (Лук Дианы) даёт отражение (reflection), пока вы держите его в руках (wield), при вызове генерирует стрелы.
* **"Master Key of Thievery"**  (Мастре-ключ Воровства) даёт очень полезные свойства уменьшения в два раза физического урона и контроля телепорта (teleport control), не говоря о предупреждении (warning) и эффекте при вызове (#invoke).

 Мастер-ключ Воровства обычно считается лучше, чем Лук Дианы.   
   
  **4.4.4 Спросите в IRC**    
  *Примечание переводчика.*  Русскоязычные игроки могут посоветоваться в нашей конференции  [[email protected]](/cdn-cgi/l/email-protection)  .   
   
 Заходите на канал #nethack на Freenode и спросите там о том, что можно пожелать. Лучше, если вы сообщите о тех предметах и заклинаниях, что у вас есть, а также о том, что вы уже идентифицировали (identify).   
   
  **4.5 Желание артефактного оружия**    
 См. также раздел 2.2 для общей информации о желании артефакта.   
   
 Как правило, игроки не желают артефактное оружие. Они либо добывают его через жертву (#offer), либо получают при коронации (crowning). В следующих случаях можно желать артефактное оружие:   
 * слишком много мороки с жертвованием;
* вы хотите избежать коронации;
* вы получили желание в начале игры (но см. раздел 4.1 и раздел 5).

   
 Ниже приведён список полезного (не всего!) артефактного оружия. Квестовые артефакты, являющиеся оружием, сюда не включены. О них можно прочитать в разделе 4.4. У артефактного оружия из списка ниже есть вероисповедание. Но оно будет вас бить лишь в 25% случаев, и урон будет всего-навсего 4d4 вместо 4d10, кроме одного исключения. В основном, вероисповедание влияет на то, сможете вы получить его через жертву (вероисповедание должно быть то же, либо отсутствовать), либо не сможете. Будьте внимательны -- если у вас отсутствует необходимый навык для применения оружия, вам будет сложно попадать по врагам. Впрочем, если у вас высокая удача (luck), это может быть некритично.   
 * **"Fire Brand"**  ("Огненный меч") -- длинный меч (long sword) без веры. Даёт дополнительный урон против монстров, у которых нет сопротивления огню (fire resistance). Актуален в начале игры, т.к. к концу монстров с сопротивлением огню становится больше.
* **"Frost Brand"**  ("Ледяной меч") -- длинный меч без веры. Даёт дополнительный урон против монстров, у которых нет сопротивления холоду (cold resistance). Актуален в конце игры, поскольку в Геенне (Gehennom) большая часть монстров не имеют сопротивления холоду, но имеют сопротивление огню.
* **"Grayswandir"**  ("Грейсвандир") -- законопослушная серебряная сабля (saber). Даёт дополнительный урон против всех, кроме того полезна в Геенне, поскольку там много демонов, а серебряное оружие делает им дополнительный урон d20 помимо бонуса от артефакта.
* **"Magicbane"**  ("Меджикбейн") -- нейтральный атам (athame), использует навык кинжала (dagger). Можно писать Elbereth на полу в один ход и не тупить его. В 40% случаев даёт дополнительный урон и специальную атаку. Если вы его держите в руках (wield), даёт сопротивление магии (magic resistance) и блокирует 95% проклятий. Если вы играете за мага (wizard), то, скорее всего, вы не захотите его желать, поскольку у мага это оружие -- первый подарок от бога через жертву. Однако для мага наличие данного артефакта является критически важным для выживания, так что если подходящих алтарей нет, а желание есть, можно потратить его на Меджикбейн.
* **"Stormbringer"**  ("Буревестник") -- хаотичный палаш (broadsword).  **Он будет бить вас по полной программе, если вы не той веры.**  Даёт дополнительный урон против всех, кто не может сопротивляться снятию уровня (т.е. нету drain resistance). У этих же монстров отнимает по одному уровню за удар. Не спрашивает подтверждения, если вы случайно атакуете мирных (peaceful) или ручных (tame) монстров.
* **"Sunsword"**  ("Солнечный меч") -- законопослушный длинный меч. Даёт дополнительный урон против нежити, что актуально в Геенне. Кроме того, служит бесконечным источником света, пока вы его держите в руках. Тоже полезно в Геенне.
* **"Vorpal Blade"**  ("Вострый нож", так перевели его название переводчики игры Alice: Madness Returns) -- нейтральный длинный меч. Характерен тем, что в 5% случаев убивает жертву за один удар (а бармаглотов -- jabberwock -- в 100% случаев). Чтобы эта штука сработала, у монстра должна быть голова.

 Как правило, игроки стараются заполучить Vorpal Blade, Stormbringer, Frost Brand или Grayswandir.   
   
  **5 Чего не желать.**    
 Вот предметы, которые вы можете получить и без применения желаний: * unicorn horn (рог единорога). Найти его не проблема, после того, как начнут попадаться единороги. Если вы в самом начале игры, лучше пожелать драконью броню.
* food ration (паёк). Если вы теряете сознание от голода (fainting), не можете молиться, и рядом нету еды, лучше пожелать Рог Изобилия (horn of plenty). Если вы ещё не теряете сознание, то лучше пожелать кольцо замедления пищеварения (ring of slow digestion). В NetHack обычно полно еды, и с замедленным пищеварением вы, скорее всего, скоро найдёте монстра, который оставит труп, или нормальную еду.
* potion of holy water (святая вода). Если вы играете, сохраняя обет атеиста (atheist), пожелайте два святых свитка снятия проклятия (2 blessed scrolls of remove curse). Соберите много непроклятой воды, дайте каждому зелью с водой отдельное имя, чтобы они не объединялись в инвентаре, а также выбросите всё, кроме воды и одного из свитков. Прочтите свиток, когда вы растеряны (confused), уберите имена, выбросите из инвентаря и подберите воду обратно. Она образует три "кучи". Понять, какая куча святая, а какая проклятая, можно макая в них объект, о котором известно, что он непроклятый, например, камень (rock). Также можно проверить проклятость при помощи питомца, либо пытаясь продать воду в магазине (так можно определить непроклятую). Если у вас получилось только две "кучи" с водой, проверьте их, а потом попробуйте второй свиток.   
 Если вы сохраняете обеты атеиста и неграмотного (illiterate) одновременно, данное желание имеет смысл. Подробнее об этом можно прочитать в статье  [Holy Water](https://nethackwiki.com/wiki/Potion_of_holy_water#Conduct_considerations)  (EN).   
  *Примечание переводчика.*  Для этой техники желательно иметь не меньше 8 зелий с водой. Правило такое, что для каждого зелья шанс стать непроклятым -- 50%, а святым или проклятым -- по 25%. При количестве зелий меньше 8 слишком велик шанс, что ни одному зелью не повезёт стать святой водой.
* Драконья броня в середине и в конце игры. После того, как вы обнаружили проклятую бумагу и определили свиток геноцида (либо являетесь магом с большой удачей), лучше желать волшебный фломастер. Сделайте квадрат из Elbereth, проведите обратный (проклятый) геноцид драконов, а потом напишите свиток зачарования брони (enchant armor). Посмотрите в статье  [Dragon Scales](https://nethackwiki.com/wiki/Dragon_scale_mail#Acquiring_dragon_scales)  (EN) о том, как это делать безопасно.   
  *Примечание переводчика.*  В версии NetHack 3.6.0 урезана Elbereth: действует только надпись, на которой стоите вы, т.е. сделать клетку больше нельзя. Кроме того, даже выжженная надпись теперь может стираться.
* blessed luckstone (камень удачи). На дне шахт обязательно есть один.
* 7 blessed wax candles (7 свечей). В магазине в шахтах, как правило, достаточно свеч. Если недостаточно, либо если свечи были, но вы их где-то потеряли, то придётся заказывать из желания, да.
* blessed fireproof +2 levitation boots (сапоги левитации). Во-первых, 1/4 шанс того, что они будут в статуе Персея (Perseus) на уровне с Медузой (Medusa). Во-вторых, кольцо левитации (ring of levitation) удобнее.
* blessed +2 shield of reflection (щит отражения). Во-первых, 3/4 шанс того, что он будет в статуе Персея (Perseus) на уровне с Медузой (Medusa). Во-вторых, возможно, более удачным будет заказать amulet of reflection либо silver dragon scale mail. Это зависит от ситуации.
* blessed amulet of reflection (амулет отражения). Во-первых, 1/2 шанс того, что он будет в Сокобане. Во-вторых, возможно, более удачным будет заказать shield of reflection либо silver dragon scale mail. Это зависит от ситуации.
* blessed greased bag of holding (сумка для переноски). Шанс найти её в Сокобане -- 1/2. Если там нет, то, возможно, придётся заказывать.
* blessed fireproof +2 water walking boots (сапоги хождения по воде). Во-первых, они гарантированно есть в башне Влада (Vlad's Tower). Во-вторых, они довольно бесполезны. Кольцо левитации удобнее. Хотя такие сапоги позволяют делать #dip, стоя на бассейне с водой (pool).
* blessed rustproof +2 Excalibur (Эскалибур). Законопослушные персонажи могут его изготовить из любого длинного меча (long sword). Если непременно хочется потратить желание на артефактное оружие, см. раздел 4.5.
* blessed spellbook of magic missile (книга с заклинанием "волшебный снаряд"). Если вы волшебник (wizard), то вы без труда сможете написать такую книгу самостоятельно. Желайте волшебный фломастер. Именно волшебникам эта книга нужна позарез. Если вы не волшебник, но очень нужна эта книга, в некоторых случаях всё равно выгоднее попытаться её написать.

   
  **6 Неправильно указанный текст желания, несуществующие предметы, нажатие ESC (отмены) при выводе приглашения на ввод текста желания**    
 Если то, что вы напишете в ответ на приглашение "For what do you wish?" ("Чего изволите?") не может быть определено игрой, как предмет, вы получите предупреждение "В игре нет предмета, соответствующего вашему описанию" ("Nothing fitting that description exists in the game.") и вас попросят ввести ещё раз. "Не может быть определено" -- неточное описание, поскольку, к примеру, если вы напишете "figuring" вместо "figurine" (фигурка), игра решит, что вы имеете ввиду кольцо ("ring"). На уточнение у вас есть пять попыток. Если вы не сможете указать название предмета пять раз, вы получите случайный предмет, с выводом сообщения "Достаточно!" ("That's enough tries!")   
 Нажатие ESC в ответ на приглашение выдаст случайный объект сразу. Это нарушает обед "без желаний". Нажатие клавиш со стрелками приводит к превращению нажатий в эскейп-символы.   
  *Примечание переводчика.*  Поэтому исправление текста надо производить исключительно при помощи нажатия клавиши Backspace.   
   
 На NAO находится пропатченная версия NetHack, которая очищает строку ввода, если вы нажали ESC. Однако, если строка и так пустая, нажатие ESC будет иметь тот же эффект, что и в исходной версии.   
   
 Продолжение статьи:  [zhz00.diary.ru/p210655499.htm](Желания%20в%20NetHack%20(часть%2022))  .   
     
  
<https://diary.ru/~zHz00/p210560490_zhelaniya-v-nethack-chast-1-2.htm>  
  
Теги:  
[[Переводы]]  
[[NetHack]]  
[[Статьи]]  
ID: p210560490  


(Комментариев нет)
------------------