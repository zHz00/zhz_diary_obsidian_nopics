Dual-boot Win8+10
==================

   
 2020-06-29, 23:59   
  Это не инструкция, это две с половиной конкретные проблемы, которые я обнаружил.   
   
 1. Сначала поставили десятку (без меня). Надо было накатить восьмёрку на другой винт. При попытке установки винда сообщала об ошибке 0x80300024 (не синий экран -- просто в установщике: "система не может запуститься, потому что 0x80300024). Её причиной оказалось то, что в биосе для САТА стоял режим ИДЕ, а надо AHCI. После того, как я его изменил, восьмёрка прекрасно поставилась и стала запускаться. Но перестала запускаться десятка. "Ваш компьютер запущен неправильно". А как правильно?   
   
 Причиной незапуска было отсутствие драйверов для первого диска (SSD) в режиме AHCI. Почему десятка на него встала в режиме ИДЕ, а восьмёрка на винчестер на захотела -- загадка.   
   
 Так вот, чтобы винда стала подгружать драйверы, надо, ОКАЗЫВАЕТСЯ, запустить её в safe mode. Тогда она найдёт причину неисправности, подгрузит драйверы -- и потом будет их подгружать автоматом даже в обычном режиме.   
   
 2. Вин8 не добавилась в загрузчик Вин10. Вин10 не добавилась в загрузчик Вин8. Они грузились, но по отдельности. Если я выставляю в биосе приоритет загрузки с ссд, грузится десятка. Если с хдд -- грузится восьмёрка. Я хотел не так. Но все мои потуги не имели успеха. Одна винда из загрузчика, с которым она была установлена, всегда грузилась, а другая всегда нет. Которая не грузилась проявляла разные симптомы. Иногда сразу показывала что "идёт диагностика... ничего не могу починить". Иногда показывала лого, а через 10 секунд выходила в ребут.   
   
 
>  Небольшое отступление. Как раньше была сделана мультизагрузка? Загрузчик предлагал систему на выбор и её загружал. Как она сделана в 8/10? Сначала грузится система по умолчанию, а потом спрашивает, что запускать. Если ты выбираешь правильную систему, то через секунду уже появляется окно входа в систему. Если же ты вбираешь неправильную, то компьютер уходит в перезагрузку (!), а потом запускает то, что ты просил. Фантастика! 

   
 Теперь о том, почему винда не грузилась. При помощи bcdedit я скопировал раздел по-умолчанию и назвал его иначе. В десятке я назвал его восьмёркой, а в восьмёрке -- десяткой. Я поменял названия загрузочных дисков, локаль и путь к загрузчику. Последнее было ошибкой. В вин8 стоял путь \Windows\system32\winload.exe, а в десятке winload.efi. Делая дубль для восьмёрки в загрузчике десятки я написал то, что было написано в bcd у вомьёрки, т.е. .exe . И это и было причиной неисправности. Я заменил .exe на .efi и восьмёрка загрузилась из загрузчика десятки.   
    
 <https://diary.ru/~zHz00/p219624150_dual-boot-win8-10.htm>   
   
 Теги:   
 [[Борьба с техникой]]   
 ID: p219624150