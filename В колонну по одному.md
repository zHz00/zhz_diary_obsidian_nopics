В колонну по одному
===================

  
2015-04-08, 23:59  
 Обнаружилось (залежи старого кода), что при считывании файла с данными значения считываются по одному. По четыре байта. То есть, на каждые четыре байта -- одно обращение к функции чтения с диска.   
   
 Замена всего этого безобразия на считывание одним куском дало выигрыш по скорости  *в десять*  раз.   
   
 Не, я знал, что возникает оверхед при считывании по одному значению, но не знал, что он такой большой.   
  
<https://diary.ru/~zHz00/p203613578_v-kolonnu-po-odnomu.htm>  
  
Теги:  
[[Программирование]]  
ID: p203613578  


Комментарии: 11
---------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/11) | 2015-04-09, 00:39 | Гость | c687112602 |

  
  Замена всего этого безобразия на считывание одним куском дало выигрыш по скорости в десять раз.    
   
 Привет рационализаторам! От имени московского гокома партии выражаю вам благодарность, товарищ!   
 ^c687112602

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/11) | 2015-04-09, 00:39 | Гость | c687112605 |

  
  Замена всего этого безобразия на считывание одним куском дало выигрыш по скорости в десять раз.    
   
 Привет рационализаторам! От имени московского гокома партии выражаю вам благодарность, товарищ!   
 ^c687112605

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/11) | 2015-04-09, 00:49 | zHz00 | c687112976 |

  
  **Гость**  , да, пятилетку в три года!   
 ^c687112976

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/11) | 2015-04-09, 07:10 | Гость | c687117332 |

  
  Гость, да, пятилетку в три года!    
   
 А в качестве награды за новаторство zHz поедет на БАМ.   
 ^c687117332

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/11) | 2015-04-09, 07:35 | zHz00 | c687117690 |

  
 Уже построили же. Что там делать?   
 ^c687117690

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/11) | 2015-04-09, 08:08 | Гость | c687118183 |

  
  Уже построили же. Что там делать?    
   
 Рационализировать.   
 ^c687118183

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (7/11) | 2015-04-09, 08:59 | Foul thing | c687119239 |

  
 Ускорить его в 10 раз )   
 ^c687119239

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (8/11) | 2015-04-09, 11:48 | korrshun | c687125779 |

  
 настолько большой, что буферизированный питон сильно быстрее небуферизированной сишечки становится   
 ^c687125779

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (9/11) | 2015-04-09, 17:30 | Гость | c687142703 |

  
  буферизированный    
   
  небуферизированной    
   
 Я считаю, что всё должно быть буферизованным, да побольше.   
 ^c687142703

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (10/11) | 2015-04-09, 18:04 | himself | c687144391 |

  
 Он огромный. Иногда ужасно смотреть, как некоторые приложения читают свои мегабайты данных по полтора символа.   
 ^c687144391

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (11/11) | 2015-04-09, 22:47 | korrshun | c687161275 |

  
 больших буферов, да длинной кеш-линии, дда.   
 ^c687161275