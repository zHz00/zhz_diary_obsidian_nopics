Батут
======

   
 2020-04-30, 23:59   
  Сделал кнопку в программе. Она обозначает состояние типа флаг -- включено или выключено. Я решил, что будет хорошей идеей держать её нажатой, когда флаг включён и отжатой, когда выключен. Переключение по клику. Потом запустил  [тестирование в проде](https://i.imgur.com/O3EQOwp.png)  , потому что установка существует в единственном экземпляре, и иначе как в проде тестировать возможности нет.   
   
 Через некоторое время сообщают о том, что кнопка работает неправильно. Я читаю логи и оказывается, что сотрудники постоянно отжимают эту кнопку, когда не надо. Флаг сбрасывается -- и от этого-то и возникают глюки. Я сделал специальную защиту, чтобы кнопку было просто так не отжать. Защита часто срабатывала. Кнопка выглядела отжатой, но флаг не сбрасывался.благодаря защите. Глюки пропали.   
   
 Прошло время. Я в другой программе решил сделать такую же систему -- когда нажатая кнопка обозначает включённый флаг. Тут я уже мог проводить тестирование не в проде. И вот тогда-то я и выяснил, что то, что происходило на установке -- было совсем не тем, что я думал.   
   
 ОКАЗАЛОСЬ   
   
 что нажатие любой другой кнопки в окне вызывает автоматическое отжимание той кнопки, которую я поставил в нажатое состояние. И это отжатие вызывает срабатывание события клика по кнопке, хотя её никто не кликал! Поэтому нажатие любой другой кнопки в окне сбрасывает флаг. То есть, сотрудники вовсе не нажимали кнопку случайно. Они нажимали другие кнопки, но их нажатие провоцировало срабатывание не того обработчика.   
   
 Тем не менее, я видел в некоторых программах постоянно нажатые кнопки, которые отображали состояние какого-либо флага. У них ничего не глючит. Значит, я что-то делаю неправильно.   
    
 <https://diary.ru/~zHz00/p219373354_batut.htm>   
   
 Теги:   
 [[Программирование]]   
 [[Борьба с техникой]]   
 ID: p219373354