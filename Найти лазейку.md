Найти лазейку
=============

  
2022-11-14, 04:03  
 Папа присылает анимированный стикер в телегу и говорит -- теперь этот стикер надо отправить маме в вотсапп!   
   
 \*взрыв мозга\*   
   
 Я ему об'яснил, что сделать это невозможно, потому что телеграм сохраняет стикеры в неизвестном формате tgs, а даже если нет, то это будет WebP, который вотсапп не знает. Могу предложить запись захватом экрана.   
   
 Папа говорит -- а ты не пробовал этот tgs переименовать? Вдруг откроется.   
   
 Мысль была здравая, я посмотрел на размер и содержимое tgs файла и WebP файла. tgs имел непонятную сигнатуру, а WebP имел сигнатуру RIFF. Но главная странность была в том, что WebP одиночной картинки весил 200 килобайт, а tgs анимированного стикера весил... 50 килобайт.   
   
 Я набрал в гугле TGS to GIF -- и моментально обнаружил телеграмного бота, который делает то, что мне надо. Но выходные файлы этого бота имели размер по 3 мегабайта на стикер. Вывод напрашивался один -- tgs это не формат стикеров. Это формат идентификаторов или хэшей стикеров. Если обычный стикер можно сохранить на диск как WebP, то анимированный нет.   
   
 Но ладно, я получил GIF-файл, а дальше уже было дело техники: для превращения в MP4 достаточно этот гиф отправить через телеграм кому-нибудь, а потом скачать обратно. И он уже будет пригоден для вотсаппа.   
   
  **UPD.**  ОКАЗЫВАЕТСЯ, tgs это всё-таки формат стикеров. Это архив, содержащий в себе анимацию в формате Adobe After Effects. Формат векторный, поэтому размер такой маленький.   
  
<https://diary.ru/~zHz00/p221397829_najti-lazejku.htm>  
  
Теги:  
[[Борьба с техникой]]  
[[Telegram]]  
ID: p221397829  


Комментарии: 3
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/3) | 2022-11-14, 10:52 | anhelmoders | c755038501 |

  
 А что, гиф воцап тоже не принимает?   
 ^c755038501

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/3) | 2022-11-14, 12:14 | zHz00 | c755038889 |

  
  [anhelmoders](https://anhelmoders.diary.ru "No plans. Only wonders.")  , воспринимает только первый кадр, анимация не запускается.   
   
 Надо сделать комментарий, что то, что в интернете/телеграме и т.п. сейчас позиционируется как гиф -- стало синонимом короткого видео без звука. На практике это оказывается не гиф, а mp4 или нечто подобное. Я же имел на руках настоящий anigif по стандарту GIF89a. И вот его проигрывание поддерживает УЖЕ не все программы.   
 ^c755038889

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/3) | 2022-11-14, 13:51 | anhelmoders | c755039338 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , ясн   
 ^c755039338