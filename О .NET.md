О .NET
======

  
2012-09-04, 23:07  
 Это как раз тот случай, когда я не читал (не программировал под это), но осуждаю. Можно меня обвинять в таком суб'ективном подходе. Вообще не люблю .NET . И не уважаю. Не знаю, даже, почему. Из замеченных об'ективных недостатков: из-за того, что любая программа, фактически, является интерпретируемой, наблюдаются заметные тормоза (или люди просто не умеют качественно писать под .NET). При установке, если .NET Framework нужной версии не стоит, приходится ставить. А если установленная версия старше, чем нужно, прога может не заработать (неточно). Суб'ективно -- программы не кажутся мне "настоящими", поскольку не транслируются в машинный код.   
   
 Те же проблемы свойственны и ява-программам, но почему-то я к ним лояльнее. Не могу об'яснить.   
   
 Есть одна программа, правда, которая мне нравится -- Paint .NET .   
  
<https://diary.ru/~zHz00/p180337244_o-net.htm>  
  
Теги:  
[[Программы]]  
[[Программирование]]  
ID: p180337244  


Комментарии: 23
---------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/23) | 2012-09-05, 00:24 | Гость | c610216061 |

  
  (или люди просто не умеют качественно писать под .NET)    
   
 Обычная прога по нахождению кратчайшего пути в графе, написанная на шарпе, работала в два раз дольше чем на плюсах, так что умение тут не причём))   
 ^c610216061

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/23) | 2012-09-05, 08:19 | korrshun | c610228898 |

  
 к жабе ты лояльнее, потому что оно не только под поделкой от МС работает, но и на всем, где кошерно запускать кровавый ынтырпрайз   
   
 Гость, код и тестовые данные в студию, интересно стало как так криво написали.   
   
 Джоэл помнится тоже выл по поводу того, как ужасен .NET в плане того, чтоб запустить любую мелочь - надо тащить огромный рантайм. в жабой это не настолько фатально. (с 1.7 разбили стандартную библиотеку на пакеты и можно в поставку класть только нужные)   
 ^c610228898

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/23) | 2012-09-05, 08:24 | korrshun | c610229077 |

  
 кстати насчет не транслируются - ты немного прав.   
 JIT у .NET довольно хитрый - он после того, как программа запустилась и поработала кеширует скомпилированное на лету куда-то в файлик и потом использует уже по сути машинный код для данного процессора.   
 ^c610229077

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/23) | 2012-09-05, 09:32 | himself | c610231541 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  ,  [korrshun](http://Igel-kun.diary.ru "kimi wo shiranai monogatari")  , и даже не только так. У дотнета есть статический джиттер, которым можно скомпилировать программу заранее. Например, все библиотеки дотнета компилируются после установки (процесс запускается медленный такой). И есть динамический, когда программа компилируется на лету, по функциям. При этом дотнет знает, какие функции используются чаще других, и будет перекомпилировать их с агрессивной оптимизацией.   
 Т.е. программы не являются "интерпретируемыми", они just-in-time-компилируемые.   
 Про скорость надо отдельно подумать, у меня нет точных данных и мнения на этот счёт.   
 ^c610231541

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/23) | 2012-09-05, 10:36 | korrshun | c610234963 |

  
  ты немного  **не**  прав.    
  **fixed.**    
  [himself](http://himself.diary.ru "void")  , .NET так тоже умеет, ага. и в начале его существования это было его основное преимущество по сравнению с JVM.   
 ^c610234963

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/23) | 2012-09-05, 11:30 | zHz00 | c610238840 |

  
 Про частичную компиляцию не знал, спасибо. Разве такой метод не ведёт к невозможности "управляемого кода"?   
 Только щас дошло, что название поста может читаться "О НЕТ" хДДДДДДДДД   
 Интересно узнать сравнение скорости .нет и ява. Ява-преложения тоже тормознутые. Но яву один раз поставил и гуляй.   
 Реализация .нет под что-то ещё вроде есть, но частичная.   
 ^c610238840

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (7/23) | 2012-09-05, 12:09 | himself | c610242000 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , в смысле "управляемого кода"?   
 ^c610242000

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (8/23) | 2012-09-05, 12:15 | zHz00 | c610242522 |

  
  [himself](http://himself.diary.ru "void")  , в смысле, что он сам ничего наделать не может и находится под контролем. Или я что-то не понимаю...   
 ^c610242522

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (9/23) | 2012-09-05, 12:17 | zHz00 | c610242685 |

  
  [ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%...](https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D0%B5%D0%BC%D1%8B%D0%B9_%D0%BA%D0%BE%D0%B4)    
 ну да, в принципе я правильно понимал. Хотя выразился непрваильно.   
 ^c610242685

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (10/23) | 2012-09-05, 12:27 | himself | c610243484 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , не ведёт. CLR продолжает отслеживать работу программы, т.к. все служебные функции принадлежат ему. Программа не может создать объекта, выделить массив, вызвать dispose(), без обращения к CLR.   
   
 Хотя кое-что сделать непросто. Например, ссылки на объекты в полях объекта. Каждый объект может перемещаться в памяти как угодно - это значит, что CLR должна вставлять при компиляции обращение не к объекту, а к какой-нибудь собственной функции, которая его вернёт, или заменять содержимое таких ссылок повсюду при перемещении объекта в памяти.   
 ^c610243484

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (11/23) | 2012-09-05, 12:32 | korrshun | c610243924 |

  
 у java отвратительно реализованы библиотеки пользовательского интерфейса - попытка что-либо написать выливается в построение диких ажурных замков, работающих через пень-колоду. (писал лабы, матерился страшно)   
 java на десктопе почти непригодна к использованию.   
 консольные и веб приложения на java работают вполне себе неплохо, особенно после "прогрева" JIT-компилятором. иначе бы сервера для игрушек на java не писали бы. впрочем криворукие программисты и тут находят куда вставить палочку в колеса, чтоб первый залетевший дятел порушил цивилизацию.   
 Альтернатива .net - Mono. но библиотеки GUI-интерфейса несовместимы и разрешать реализацию этого API под mono MS не будет.   
 ^c610243924

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (12/23) | 2012-09-05, 12:38 | himself | c610244393 |

  
  *и разрешать реализацию этого API под mono MS не будет.*    
 Зачем они вообще тогда это придумывали? Смысл же как раз в переносимости был.   
 ^c610244393

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (13/23) | 2012-09-05, 12:47 | korrshun | c610245244 |

  
 ну они же тоже хотят кушать.   
 у .net смысл не столько в переносимости, сколько в невозможности фатально испортить память и натворить бед при обычном шаблоне использования.   
   
 про переносимость - это к jvm. работает одинаково жутко везде =)   
 ^c610245244

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (14/23) | 2012-09-05, 12:56 | zHz00 | c610245937 |

  
 Ну вот, я получил дискуссию, в которой не разбираюсь. Смешно.   
 ^c610245937

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (15/23) | 2012-09-05, 13:01 | himself | c610246382 |

  
  [korrshun](http://Igel-kun.diary.ru "kimi wo shiranai monogatari")  , ну испортишь ты память в своём процессе, ну рухнет он - что такого-то?... А если руки кривые, то испортить всё и в managed-коде легко ![:)](http://static.diary.ru/picture/3.gif)   
 ^c610246382

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (16/23) | 2012-09-05, 13:11 | korrshun | c610247200 |

  
 рухнет. и баг ты этот ни в жисть не отыщешь, разве что корку раскапывать, что далеко не всегда возможно. по дороге к сегфолту оно еще и черт-те что выполнить может, если указатель на функцию когда-то подпортил.   
 это раз и два. ну и у .net сборщик мусора еще есть. тоже плюс. говорят даже нормально работает =)   
 в управляемом коде все-таки больше присутствуют ошибки логики, а это уже зависит только от понимания того, как у тебя должна работать программа.   
 ^c610247200

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (17/23) | 2012-09-05, 13:59 | himself | c610251602 |

  
  [korrshun](http://Igel-kun.diary.ru "kimi wo shiranai monogatari")  , сборщик мусора - это шиш на кукиш менять ![:)](http://static.diary.ru/picture/3.gif) Без него ты лезешь по ссылке в уничтоженный объект, с ним - объект не уничтожен, и продолжает держать, скажем, важный файл заблокированым. Баг в другом месте, найти причину ещё сложнее.   
 Никакой сборщик мусора не спасёт от ошибки. Если ссылку надо было занулить, её надо было занулить, и тебя ждут  *последствия*  )   
 ^c610251602

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (18/23) | 2012-09-05, 14:38 | korrshun | c610255077 |

  
  [himself](http://himself.diary.ru "void")  , сталкивался уже с залоченным gc файлом?   
 в этом случае не сложнее. разве что руки программиста, писавшего работу с файлами феерически кривы и найти места где блокировка берется, а где освобождается невозможно.   
 память же можно запопроть любым присваиванием. так что тут решает вероятность возникновения ошибки.   
 впрочем, управляемое окружение не спасает от проблем синхронизации между потоками.   
 ^c610255077

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (19/23) | 2012-09-05, 15:22 | himself | c610259209 |

  
  [korrshun](http://Igel-kun.diary.ru "kimi wo shiranai monogatari")  , работает твоя программа день, другой, потом бац - "ошибка доступа к файлу". Откуда ты начнёшь поиск причины, почему файл занят?   
 Да и память ты "любым" присваиванием не запорешь, тебе нужно специально кастовать на поинтер что-то неверное.   
 ^c610259209

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (20/23) | 2012-09-05, 18:19 | korrshun | c610276092 |

  
 ты недооцениваешь "талантливых" любителей void\* на каждый чих =) в библиотеках таких пруд пруди   
 сообщение об ошибке доступа к файлу или сокету все же куда более человекопонимаемо, чем трудновоспроизводимый сегфолт.   
 ^c610276092

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (21/23) | 2012-09-05, 18:58 | Гость | c610279617 |

  
  Гость, код и тестовые данные в студию, интересно стало как так криво написали.    
   
 Давно это было(на паре по алгоритмам) и код не мой, так что теперь фиг найдёшь... использовался метод ветвей и границ, рандомно генерилась матрица смежности 12 на 12 и находился кратчайший путь. Изначально код был на шарпе - перебирало секунд 20-30, потом тупо поменяли синтаксис и скомпилировали на плюсах, грузилось секунд 10-15.   
 ^c610279617

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (22/23) | 2012-09-06, 13:02 | korrshun | c610352781 |

  
 имелась ввиду задача коммивояжера или просто поиск кратчайшего из A в B?   
 ^c610352781

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (23/23) | 2012-09-06, 13:23 | Гость | c610354762 |

  
  имелась ввиду задача коммивояжера или просто поиск кратчайшего из A в B?    
   
 Первое...   
 ^c610354762