Вы уже бросили пить коньяк по утрам?
=====================================

   
 2021-05-12, 01:10   
  int nRes=GetData();   
   
 В программе используется классическая схема с кодами ошибок. Дальше должен идти анализ кода ошибки. Все коды, кроме одного, меня не интересовали. Интересовал код номер 7 (у него ещё было символическое имя, но в данном тексте оно будет только мешать).   
   
 if(nRes==7)   
 {   
 //...   
 }   
   
 И в общем выяснилось, что nRes тут равен единице. Единица обозначала совсем другую ошибку, которая не возникала. А седьмая возникала -- и там в коде так и было написано -- return 7; Это озадачивало. Выходило, что семёрка при возврате конвертируется в единицу. Но почему? И почему именно единицу?   
   
 Ответ (увы, в телеграме будет виден сразу):   
   
  [(открыть ответ)](https://zHz00.diary.ru/p220703555.htm?index=1#linkmore220703555m1)    Функция GetData() была обя'влена как bool GetData(). Я когда-то думал, что true/false здвесь хватит, а потом забыл, что не поменял тип. Варнинги я, конечно, не читал.     
    
 <https://diary.ru/~zHz00/p220703555_vy-uzhe-brosili-pit-konyak-po-utram.htm>   
   
 Теги:   
 [[Программирование]]   
 [[Фейлы]]   
 [[Говнокод]]   
 ID: p220703555