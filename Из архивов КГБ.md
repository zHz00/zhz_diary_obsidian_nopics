Из архивов КГБ
===============

   
 2020-01-22, 23:59   
  Решил восстановить на кухне видеонаблюдение, чтобы следить за плитой. Достал с полки камеру, через которую мы наблюдали за бабушкой с деменцией. А камера запаролена.   
   
 Стандарные пароли не подошли. Я стал искать инструкцию о том, как сбрасывать пароль. Нашёл. Но она не помогла. Нюанс был в том, что у меня было три камеры (разные), но на них почти наверняка был одинаковый пароль. А поскольку все камеры были D-Link, был шанс, что сброс не сработает ни на одной.   
   
 Как же найти пароль? Листочек с паролем после ремонта, естественно, располагался в неизвестном месте. Но пароль должна была помнить программа видеонаблюдения, D-ViewCam. Я добавил в программу выдуманную камеру с необычным паролем и стал искать, куда программа пароль сохраняет. Пароль не мог быть сохранён в виде хэша, поскольку при установлении соединения его требуется послать в исходном виде. Но он мог быть зашифрован внутренним шифрованием программы. Тем не менее, мои надежды оправдались -- пароль хранился в реестре в открытом виде.   
   
  Если кому-то интересно, HKLM\SOFTWARE\Wow6432Node\DlinkViewCam\MainConsole\IPCamera\ и дальше по номерам камер. Для 32-битных систем то же, но без Wow6432Node.    
   
 То, что я нашёл тестовый пароль, мне не помогло. Потому что сейчас я находился совсем на другой винде, чем в то время, когда видеонаблюдение работало.   
   
 Нужно было найти тогдашнюю установку винды. Я стал вспоминать, где и когда это было. Обычно я с концами не сношу винды. Остаются какие-то жалкие ошмётки типа Application Data, My Documents. Мне же, однако, нужна была ветвь реестра HKLM, которая хранится в системной папке. Был велик шанс, что папка давно удалена.   
   
 Пока я предавался воспоминаниям, я понял, что хорошо бы вести дневник того, куда и когда ставил ОС. Я прошерстил текущий винчестер, нашёл там парочку полудохлых установок, но они были не тех лет и в них пароля не было.   
   
 По-видимому, винда, на которой работала старая система видеонаблюдения, была установлена на другом винчестере. Этого винчестера в компьютере нет. А где он? Нааавееерное, в старом компьютере.   
   
 Я достал старый компьютер и нашёл там два винчестера. Винчестеры были IDE. Я понял, что проще попытаться запустить старый компьютер, чем придумывать, как подключить те винчестеры к новому. Я взял старый монитор с поддержкой DVI (у нового только HDMI/DP) и клавиатуру с раз'ёмом PS/2. И на этом моей скучной истории пришёл конец. Компьютер сразу же запустился, загрузилась семёрка, я залез в regedit и переписал оттуда пароль.   
   
 Ну а потом этот пароль к камере не подошёл. Так я выяснил, что попытки сброса пароля всё-таки не были напрасными. Почему я прозевал момент, когда пароль успешно сбросился -- загадка.   
   
 Так или иначе, оставлять пустыым пароль было нельзя, поэтому я установил в качестве пароля тот, который добыл.   
    
 <https://diary.ru/~zHz00/p218911934_iz-arhivov-kgb.htm>   
   
 Теги:   
 [[Случай из жизни]]   
 [[Борьба с техникой]]   
 ID: p218911934