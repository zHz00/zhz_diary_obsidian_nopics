Кто сожрал всю память? Или хром против мю-торрента
==================================================

  
2020-08-15, 23:59  
 У всех свои закидоны. Вот я уже много лет работаю без своп-файла. Потому что у меня всегда памяти в компьютере стояло столько, что он был не нужен. Сейчас у меня 32 ГБ.   
   
 Однажды я обнаружил, что 32 ГБ мне не хватает. Память по диспетчеру задач была забита, периодически выдавалось сообщение о том, что памяти мало.   
   
 Программы бывают такие, что стоит операционной системе выделить им килобайт, так они терабайт откусят. Но как же понять, в чём дело. Ниже я просуммирую опыт поиска причин забивания памяти.   
   
  **1.**  Надо проверить обычным способом, кто жрёт память. То есть, посмотреть в диспетчере задач занимаемую память. По-английски колонка называется Commit Size. По умолчанию она отключена, вместо неё отображается какая-то другая память, которая всегда меньше. Но обычно уже этот метод показывает, кто есть кто.   
   
  **2.**  Если простейший метод не даёт результатов, то надо проверить, стоит ли в диспетчере галочка "Show processes from all users". К сожелению не знаю, где эта галочка расположена в десятке. В восьмёрке надо изучать вкладку Users.   
   
 Это очевидные рекомендации. Я бы не стал писать пост, если бы дело было в этом. Я пробовал оба метода и они давали отрицательный результат. Судя по размеру выделенной памяти, у меня должно было бы быть занято гигабайт 10 от силы. Но по факту было занято 28 ГБ с гаком.   
   
 В общем, специально для таких целей один широко известный в узких кругах товарищ по имени Марк Руссинович. Он изобрёл программу, отображающую структуру памяти. Называется она RAMMap. Доступна для скачивания с официального сайта микрософт.   
   
  **3.**  Включить RAMMap. Любоваться. У меня, например, оказалось, что 15 гигабайт из 32 занимает mapped file. Это файл, отображаемый на память. У меня в программе RAMMap не было написано, кто пользуется этим файлом, но был указан об'ём. Оказывается, в память было прибито 15 гб от файла. А полный размер файла был 50 ГБ. Это был образ-установщик Evil Within. Странным тут было то, что у меня этот образ сейчас не используется. Также, он не подключён к виртуальному приводу.   
   
 Я посмотрел на другие аналогичные файлы в окошечке со списком замапленных и догадался, что их все в мэппинг поместил мю-торрент (1.6.1). Поэтому я его временно закрыл.   
   
  **4.**  А чтобы провести очистку памяти, надо у RAMMap выбрать в меню следующие пункты:   
 Empty -> Standby List   
 Empty -> SystemWorkingSet   
   
 После этого ничейные файлы освобождают память. Что бывает с чейными, я не знаю. Таким методом я освободил 15 гигабайт.   
  
<https://diary.ru/~zHz00/p219801769_kto-sozhral-vsyu-pamyat-ili-hrom-protiv-myu-torrenta.htm>  
  
Теги:  
[[Борьба с техникой]]  
ID: p219801769  


Комментарии: 10
---------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/10) | 2020-08-16, 11:34 | Xersareeth | c748536456 |

  
 Не понял, это не-регулярная проблема и ты просто перезагружаться не захотел?   
 ^c748536456

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/10) | 2020-08-16, 13:28 | zHz00 | c748537581 |

  
  [LizardOfOzz](http://LizardsBurrow.diary.ru "One more night")  , проблема не регулярная, но периодическая. Я компьютер не выключаю. И перезагружать не люблю. От этого иногда возникают проблемы.   
   
 Ещё бывает, что либре офис таким же макаром память сжирает, если несколько дней его не закрывать.   
 ^c748537581

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/10) | 2020-08-16, 13:50 | Xersareeth | c748537852 |

  
 >> перезагружать не люблю. От этого иногда возникают проблемы.   
 Мвахаха. Сразу вспоминаются сервера, которые не выключали годами. А когда случайно таки перезагрузили, оказалось что очень важные настройки не были зафиксированы в конфигах. И теперь уже никто не знает как это исправить. ![:lol:](http://static.diary.ru/picture/1135.gif)   
 ^c748537852

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/10) | 2020-08-16, 14:11 | zHz00 | c748538087 |

  
  [LizardOfOzz](http://LizardsBurrow.diary.ru "One more night")  , я недостаточно ясно написал. Проблемы возникают от того, что я не люблю перезагружать, а не от самой перезагрузки Х). Я перезагружаюсь примерно раз в месяц, обычно из-за какого-нибудь сбоя. Максимум 3,5 месяца удавалось аптайм держать.   
   
 Перезагрузка обычно проходит нормально за исключением случаев проблем с загрузчиком, которые могли появиться из-за того, что я что-нибудь поменял. Но обычно я ничего не меняю.   
 ^c748538087

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/10) | 2020-08-16, 14:13 | Xersareeth | c748538114 |

  
 Гибернируешь вместо перезагрузки?)   
 ^c748538114

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/10) | 2020-08-16, 14:24 | zHz00 | c748538236 |

  
  [LizardOfOzz](http://LizardsBurrow.diary.ru "One more night")  , нет, просто не выключаю. Зачем?   
 ^c748538236

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (7/10) | 2020-08-16, 14:38 | Xersareeth | c748538382 |

  
  [zHz00](https://zHz00.diary.ru "Untitled")  , например, чтобы ночью не шумел?   
 ^c748538382

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (8/10) | 2020-08-16, 14:45 | zHz00 | c748538452 |

  
  [LizardOfOzz](http://LizardsBurrow.diary.ru "One more night")  , мне с шумом лучше спится. Приятно, когда винчестер хрустит.   
 ^c748538452

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (9/10) | 2020-08-17, 09:52 | deadlymercury | c748548565 |

  
    
 Мвахаха. Сразу вспоминаются сервера, которые не выключали годами. А когда случайно таки перезагрузили, оказалось что очень важные настройки не были зафиксированы в конфигах. И теперь уже никто не знает как это исправить.    
 Многие севрера "не выключаются годами" ибо нафиг не требуется. При этом давным давно уже для конфигов используются вещи типа паппета/сальтстека/ансибл.   
   
  например, чтобы ночью не шумел?    
 Это зависит кстати от активности дисков и системы охлаждения. У меня комп в простое / под торрентами и подобной нагрузкой может вообще не шевелить вентиляторами, при этом обращения обычно идут на ssd, в результате комп бесшумный. Зимой в частности ночью слышно не как "комп шумит" - а как в батареи отопления вода течет ![:)](http://static.diary.ru/picture/3.gif)   
 ^c748548565

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (10/10) | 2020-08-17, 15:41 | Stigravian Shaderstill | c748552942 |

  
 А програмку "  [Mem Reduct](https://www.henrypp.org/product/memreduct)  " пробовал?   
 ^c748552942