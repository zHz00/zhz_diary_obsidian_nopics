Фейл-моногатари [05]
=====================

   
 2016-11-28, 23:36   
  В прошивке контроллера написано выдавать сигнал на выход, а осциллограф этого не видит. Никак не мог понять, в чём дело.   
   
 Решил -- контроллер работает на частоте 200 МГц. Возможно, сигнал проскакивает так быстро, что осциллограф просто не срабатывает? (он работает в режиме single sequence: при появлении сигнала он начинает измерение данных, а потом показывает статичную картинку начиная с момента появления сигнала)   
   
 Думаю, надо для теста уменьшить частоту. Так, какие у нас ещё есть источники для тактовой частоты? О, тактовый генератор 32 кГц! Его и поставлю!   
   
 И заменил строчку:   
 REGISTERS->PERIPHERAL\_CLOCK=9<<24;//основной кварцевый генератор; в 24-28 битах должна быть 9,   
 //остальные биты 0; << -- логический побитовый сдвиг влево.   
   
 На строчку:   
 REGISTERS->PERIPHERAL\_CLOCK=1<<24;//генератор 32 кГц на RC-цепочке   
   
 Контроллер после этого прошился, но при попытке выполнить пару строк кода завис. И больше он теперь не прошивается!   
    
 <https://diary.ru/~zHz00/p211167433_fejl-monogatari-05.htm>   
   
 Теги:   
 [[Программирование]]   
 [[Фейлы]]   
 [[Борьба с техникой]]   
 ID: p211167433