При установке Windows требует драйвер оптического привода! Почему?
==================================================================

  
2018-02-26, 23:58  
 Особенно весело, когда в компьютере привода оптического и нету. С этим печально известным сообщением народ сталкивается года эдак с 2010. До сих пор. То есть, это касается всех версий винды 7...10. Вот как оно выглядит:   
   
 A required CD/DVD drive device driver is missing. If you have a driver floppy disk, CD, DVD or USB flash drive, please insert it now.   
 Не найден необходимый драйвер носителя. Это может быть драйвер DVD-дисковода, USB-накопителя или жесткого диска.   
   
 Появляется после нажатия в установщике большой кнопки "Установить". Дальше процесс установки не идёт.   
   
 Винда как обычно славится неинформативными сообщениями об ошибках. Конкретно данная ошибка может быть связана как минимум с четырьмя разными вещами:   
   
 1. Плохо записанный диск/флешка (с ошибками).   
   
 Это никак не проверишь. Попробуйте записать ещё один диск или возьмите другую флешку.   
   
 2. ДЕЙСТВИТЕЛЬНО отсутствие драйвера USB/CD.   
   
 Это проверяется легко. В окошке с сообщением нажмите Browse/Обзор и посмотрите, виден ли носитель с установочными файлами. Если не виден, то вам придётся заняться интегрированием драйвера в дистрибутив (DISM.EXE /Add-Driver) или вручную поставить этот драйвер в процессе установки. Хотя откуда его ставить, когда носитель не виден?   
   
 3. Особенно при установке с флешки. Винда при загрузке временно потеряла флешку.   
   
 Я лично с этим не сталкивался, но большинство людей в интернете советуют в данном случае сделать две вещи:   
 а) переткнуть флешку в тот же раз'ём;   
 б) переткнуть флешку в  *другой*  раз'ём.   
   
 Многим помогает.   
   
 4. Самое вкусное. Не совпадает версия setup.exe в дистрибутиве и внутри boot.wim.   
   
 Ради этого, собственно говоря, пост и затевался.   
  [(читать дальше)](https://zHz00.diary.ru/p214938758.htm?index=1#linkmore214938758m1)      
 У меня SSD подключаемый через NVMe. В семёрке отсутствует родная поддержка этого интерфейса. Отдельного драйвера также нету. Но есть обновление, которое поддержку добавляет. А я хотел поставить семёрку на SSD с NVMe. То есть, мне надо было интегрировать это обновление в дистрибутив. Однако после ёбли с DISM.EXE (команда /Add-Package... статей по ней масса) новый дистрибутив не желал запускаться, показывая то сообщение, что я указал выше. Получалась патовая ситуация -- если обновления нет, всё работает, но я не вижу SSD. А если обновление есть, то SSD виден (по кнопке "Обзор"), но установка не начинается.   
   
 В дистрибутиве винды начиная с семёрки есть два основных файла -- boot.wim и install.wim. Фактически, это архивы с файлами. Первый заведует за начало установки, а второй -- это архив с файлами винды как они будут выглядеть после установки. Во второй интеграция обновлений проходила без вопросов. Но мне надо было интегрировать именно в boot.wim, поскольку при установке сначала загружается он -- и окно выбора диска для установки растёт из него.   
   
 ОКАЗАЛОСЬ   
   
 Что кроме этих двух файлов есть много других. При интеграции обновлений в boot.wim меняется версия файла setup.exe (который там внутри живёт) и сопутствующих (причём это происходит именно в обновлении, включающем поддержку NVMe; другие обновления интегрируются без вопросов). Но интеграция происходит ТОЛЬКО внутрь wim-файлов. Файлы, лежащие рядом с wim-ами, не обновляются! А там тоже есть setup.exe. Поэтому надо вручную подмонтировать boot.wim, выдрать из него setup.exe и прочее, а потом положить РЯДОМ с wim-ами. После этого всё заработает!   
   
 Была статья с сайта микрософта, где я собственно говоря и обнаружил описание четвёртого пункта, но сейчас отыскать её возможности не имею. Добавлю ссылку позже.   
     
  
<https://diary.ru/~zHz00/p214938758_pri-ustanovke-windows-trebuet-drajver-opticheskogo-privoda-pochemu.htm>  
  
Теги:  
[[Программы]]  
[[Борьба с техникой]]  
ID: p214938758  


Комментарии: 2
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/2) | 2018-02-27, 00:09 | Stigravian Shaderstill | c730249569 |

  
 про п.3. - на USB3.0 такая фигня происходит. Лечится перетыканием на USB2.0.   
 ^c730249569

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/2) | 2018-02-27, 00:24 | zHz00 | c730249955 |

  
  [Stigravian Shaderstill](http://stigravian.diary.ru "Science, Death, Rock-n-Roll")  , да, чаще всего это упоминают именно в связи с УСБ 3.0.   
 ^c730249955