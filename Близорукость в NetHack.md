Близорукость в NetHack
=======================

   
 2021-10-24, 01:58   
  Данную историю мне рассказал г-н Engelson. Она настолько поучительная, что я её публикую.   
   
 Он играл партию в DynaHack. Дошёл до башни Влада. В DynaHack башня Влада устроена не так, как в других вариантах. Я не знаю, кто первоисточник этой модификации, но первый уровень башни содержит большое число деревьев, речку, нежить, а путь в башню преграждает ров. По ту сторону рва -- под'ёмный мост (drawbridge). Вы знаете, как это выглядит, если были в Замке. Вот такая позиция:   
   
  ![](https://d.radikal.ru/d20/2110/52/1bf0bbb0cbff.jpg)    
   
 Плюсик на две клетки левее собачки -- это и есть мост. Engelson стоит и думает, как его открыть. Мелодия действует только для моста в Замке. Ещё у него есть Колокол Открытия и wand of striking. И то, и другое должно помочь. Он стреляет в сторону моста -- нет эффекта. Он звонит в колокол -- нет эффекта. Стал думать, как сломать решётки (голубенькие). Но для этого средств тоже не было. Я стал смотреть, как он играет и обнаружил очень странную вещь. Взгляните:   
   
  ![](https://c.radikal.ru/c26/2110/a5/78bf3e464abb.jpg)    
   
 Видите единичку? Так отображаются невидимые монстры, если у игрока есть свойство "предупреждение об опасностях" (warning). Чем сильнее моб, тем больше цифра. Этот моб слабый, но интересно в нём не это, а то, что он стоит прямо на клетке, занятой откидным мостом!   
   
 А какие мобы у нас могут стоять на той же клетке, что и мост? Пудинги? Пудинги могут только под дверью пролезать. Ксорны? Возможно, но они сложнее, чем первый уровень. Ещё дверью может прикинуться мимик, но может ли он прикинуться мостом? Это вопрос, но прикинувшийся однажды дверью мимик никуда не уходит, а было видно, что моб перемещается.   
   
 У меня возникла невероятная догадка, я попросил engelson включить фонарь. И оказалось, что уровень выглядит вот так:   
   
  ![](https://c.radikal.ru/c43/2110/d0/1b0ad0e879a1.png)    
   
 В чём же было дело? В NetHack игрок, находящийся в темноте, видит только соседние клетки. Если что-то произошло вне зоны видимости, то карта уровня не обновляется. Поскольку известно, что вплотную к мосту при открытии стоять нельзя, иначе можно получить по башке, Engelson стрелял в мост издалека. Мост был разрушен первым же выстрелом, но этого просто не было видно. А следующая клетка вода -- в неё лезть нет никакого смысла, если мост закрыт. В Замке такой проблемы не возникает, потому что там зона освещённая.   
    
 <https://diary.ru/~zHz00/p220925851_blizorukost-v-nethack.htm>   
   
 Теги:   
 [[NetHack]]   
 ID: p220925851