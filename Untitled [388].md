Untitled [388]
==============

  
2015-10-28, 23:58  
 Занимался профилированием кода при помощи vsperfcmd. Получил лог вызовов функций. Там указаны таймстампы вызовов и времена выполнений. А про единицы измерения времени ничего не написано. Ни в какой справке. Ни на MSDN.   
   
 Экспериментальным путём выяснил, что частота, с которой генерируются таймстампы,  **примерно**  в 1000 раз больше, чем получаемая через QueryPerformanceFrequency.   
   
 О\_О   
   
 А кто-нибудь знает, как узнать настоящую частоту?   
  
<https://diary.ru/~zHz00/p206530406_untitled-388.htm>  
  
Теги:  
[[Программирование]]  
ID: p206530406  


Комментарии: 2
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/2) | 2015-10-29, 09:48 | Knows Ajed | c697414013 |

  
 Может, в 1024 раз? ![:)](http://static.diary.ru/picture/3.gif)   
 А вообще, я не знаю, но интересно.   
   
 О какой именно частоте идёт речь-то?   
 На  [MSDN](https://msdn.microsoft.com/ru-ru/library/ms182403.aspx)  упоминаются разные таймеры (  [по типу](https://msdn.microsoft.com/ru-ru/library/dd255413.aspx)  и  [типа](https://msdn.microsoft.com/ru-ru/library/dd283123.aspx)  ). Лайк дэт:   
   
 Параметр PF [:n]   
 Выборка осуществляется на каждой n-ой ошибке страницы (значение по умолчанию=10).   
 Sys (VSPerfCmd) [:n]   
 Выборка осуществляется при каждом n-ом системном вызове (значение по умолчанию=10).   
 Timer [:n]   
 Выборка осуществляется на каждом n-ом цикле процессора (значение по умолчанию=10000000).   
   
 ...В примере с методом выборки указано, как выполнять выборку приложения через каждый 1000 тактов универсального счетчика профилировщика NonHaltedCycles.   
   
 ... Параметр WinCounter задает счетчик производительности Windows или приложения, данные которого собираются через заданные интервалы в процессе запуска профилирования. Счетчики производительности Windows и приложений перечисляются в виде меток в файле данных профилирования. Можно задать несколько счетчиков производительности, данные которых необходимо собирать, воспользовавшись отдельными параметрами.   
 По умолчанию данные счетчиков собираются каждые 500 миллисекунд.   
   
 И прочие упоминания... Но какое из них что...   
 ^c697414013

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/2) | 2015-10-29, 10:15 | Knows Ajed | c697414576 |

  
  [vsperfviewer](http://www.codeproject.com/Articles/520313/Analyzing-profiling-data-from-vsperfcmd)    
  [ещё](http://www.codeproject.com/Articles/144643/Profiling-of-C-Applications-in-Visual-Studio-for-F)    
   
 (просто накидываю на вентилятор)   
 ^c697414576