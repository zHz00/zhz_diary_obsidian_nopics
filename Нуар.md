Нуар
=====

   
 2018-11-06, 23:59   
  Очевидно, что локальная переменная действует только в своей области видимости. Если в область видимости осуществлён повторный вход, значение не сохранится.   
   
 Си++, да и Си достаточно новой версии развращают тем, что можно локальные переменные об'являть в любом месте, а не только в начале блока (или в начале функции, как в Паскале).   
   
 Обычно считается хорошим стилем -- об'являть переменную непосредственно перед использованием. Но это приводит к неожиданным факапам.   
   
 
```
int main()  
	{  
		//инициализация контроллера  
		for(;; )//главный цикл  
			{  
				//пять страниц кода  
				int state=0;//состояние автомата  
				//пусть автомат будет простой  
				//входных сигналов нет  
				//на каждом шагу переходит в соседнее  
				//из двух состояний  
				if(state==0)  
					{  
						state=1;  
						//действия  
					}  
				else  
					{  
						state=0;  
						//действия  
					}  
			}  
	}
```
 Долго думал, почему автомат всё время в нулевом состоянии и в первое не переходит? А вот. Пришлось переносить state в начало main().   
    
 <https://diary.ru/~zHz00/p216552728_nuar.htm>   
   
 Теги:   
 [[Программирование]]   
 [[Говнокод]]   
 ID: p216552728