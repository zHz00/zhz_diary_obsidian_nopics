Mi Band 6 прерывает синхронизацию в GadgetBridge без сообщений об ошибках
==========================================================================

   
 2023-01-24, 02:55   
  Ситуация и её корень оказались достаточно редкими в совокупности.   
   
 1. Mi Band у меня не используется для уведомлений и подобного, поэтому он не подключён к телефону всё время. Синхронизацию я могу проводить, к примеру, раз в 2 недели.   
 2. Подключён он у меня не через стандартную программу, а через GadgetBridge. Потому что отправлять свои данные даже китайцам я не хочу.   
 3. Облачной синхронизации нет, все данные у меня на карте памяти.   
   
 Итак, ситуация: во время очередной синхронизации (довольно долгой) вместо отображения статистики за последние сутки я увидел, что устройство отправилось в списке в самый низ, а статус у него стал Not Connected. Это было неправильно. Раньше такого тоже не было. Я повторил ещё пару раз -- но это не помогло. Синхронизация прерывалась, сообщения об ошибке не было. Новые данные на соответствующей вкладке также не появлялись.   
   
 Поскольку это GadgetBridge, а не обычная программа, в ней есть доступные для пользователя лог-файлы. Я открыл лог-файл и стал его читать. Из него следовало, что данные начинали передаваться, но в определённый момент происходила ошибка, сообщающая об изменении статуса на "8".   
   
 Это было уже кое-что. Загуглив, я наткнулся на  [вот это](https://stackoverflow.com/questions/54196549/ble-onconnectionstatechange-status-8-on-samsung-phones)  . То есть, это был банальный таймаут, отвалившийся коннект во время передачи.   
   
 Я спрятал все посторонние блютус-устройства в фольгу и унёс их подальше. Но это не помогло завершить синхронизацию.   
   
 Проблему я решил лишь частично. Я нашёл в отладочном меню пункт, позволяющий задать дату начала синхронизации ("set activity fetch time"). Я сдвинул её на неделю вперёд (потеряв данные за неделю) и после этого синхронизация завершилась успешно.   
   
 Что происходит с ми банд 6, мне неясно. Ни со 2, ни с 3 таких проблем не было. Придётся синхронизироваться чаще, чтобы избежать подобных инцидентов.   
    
 <https://diary.ru/~zHz00/p221485056_mi-band-6-preryvaet-sinhronizaciyu-v-gadgetbridge-bez-soobwenij-ob-oshibkah.htm>   
   
 Теги:   
 [[Лайфхак]]   
 [[Борьба с техникой]]   
 ID: p221485056