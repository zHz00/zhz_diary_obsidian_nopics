П.В. Румянцев // Азбука программирования в Win32 API (1998)
===========================================================

  
2016-02-19, 23:58  
 Я немного рублю в Win32 API, поэтому читал скорее для лулзов и потому что я читал книжку того же автора "  [MFC: внутренний мир](П.В.%20Румянцев%20%20MFC%20--%20внутренний%20мир)  ", которая была весьма любопытной.   
   
 В основном книжка концентрируется на элементах управления и работе с ними. Также слегка затронута тема многозадачности и работа с реестром. Для "азбуки" подойдёт, но не более.   
   
 Что я узнал нового, так это о работе с элементами управления. Я-то всегда это делал через MFC/C++ Builder, поэтому не знал внутренней кухни. Теперь знаю. И кое-что меня удивляет. Выходит, что SendDlgItemMessage() не возвращает управление не раньше, чем сообщение обработается целевым окном?   
   
 Структура common controls удручает. Нет единообразия в работе с ними. Можно было это привести в порядок же! Пичалька.   
   
 Из недостатков:   
 1. Опечатки и набор. Слова латинскими буквами иногда написаны  *вверх ногами1*  .   
 2. У автора по некоторым вопросам довольно специфичное мнение. Например, что на главном окне нельзя размещать кнопки, т.к. программа будет нестабильно работать. Или что если создать диалоговое окно через DialogBox(), то его сообщения будут обрабатываться  *родительским*  окном. Я-то думал, что диалоговое окно организует  *свой*  цикл обработки сообщений. Возможно, я ошибался. Ну и ряд иных утверждений.   
 3. Почему-то в теме о многозадачности рассмотрены семафоры и события, а критические секции и мьютексы пропущены. Мне кажется это нелогичным, т.к. мьютексы и критические секции, во-первых, более "базовые", во-вторых, проще для понимания.   
  
<https://diary.ru/~zHz00/p208079067_p-v-rumyancev-azbuka-programmirovaniya-v-win32-api-1998.htm>  
  
Теги:  
[[Программирование]]  
[[Книги]]  
ID: p208079067  


Комментарии: 1
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/1) | 2016-02-20, 14:34 | himself | c703129335 |

  
  *Выходит, что SendDlgItemMessage() не возвращает управление не раньше, чем сообщение обработается целевым окном?*    
 Почему удивляет? И простой SendMessage так работает.   
   
  *Структура common controls удручает. Нет единообразия в работе с ними. Можно было это привести в порядок же!*    
 Увы, их писали разные люди в разное время. Некоторые контролы вообще писались "для себя", и попали в паблик только после того, как их кто-то раскопал и стал использовать. Другие сначала задумывались гораздо проще (и для этих целей их АПИ имело смысл), а потом расширялись с сохранением совместимости.   
   
 А само оконное API, по-моему, спроектировано очень хорошо. Ему уже 25 лет (многие функции введены ещё в Windows 1.0), каких только расширений оно не пережило, и все включило в себя, не ломая принципов.   
 ^c703129335