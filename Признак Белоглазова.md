Признак Белоглазова
===================

  
2019-02-25, 23:59  
 Даже если вы проектируете малюсенькую платку с микроконтроллером, на ней в обязательном порядке должны присутствовать компоненты, позволяющие диагностировать её состояние во время работы. Как минимум, это:   
 -- светодиод питания, который светится, когда на микроконтроллер (!) подано питание;   
 -- светодиод, управляемый через GPIO микроконтроллера.   
   
 Лучше, если последних будет минимум две штуки (разного цвета). Первый надо зажигать, когда прошивка стартовала и произвела базовые настроечные действия. Второй надо зажигать, когда все блоки и устройства успешно инициализированы -- контроллер готов к работе.   
   
 Необходимость наличия такой диагностики связана с тем, что не всегда работа с платой осуществляется через интерактивный отладчик. Поэтому хорошо бы знать, жива плата вообще или нет. А если не жива, то на каком этапе фейл.   
   
 Если для финальной версии платы цветомузыка недопустима, светодиоды можно делать с'ёмными.   
  
<https://diary.ru/~zHz00/p217237445_priznak-beloglazova.htm>  
  
Теги:  
[[Программирование]]  
[[Электроника]]  
[[Очевидное-невероятное]]  
ID: p217237445  


Комментарии: 7
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/7) | 2019-02-26, 08:26 | Xersareeth | c738903845 |

  
 А не лучше ли пиликать динамиком вместо мигания светодиодом?)   
 ^c738903845

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/7) | 2019-02-26, 08:50 | deadlymercury | c738904081 |

  
 Еще можно сделать контактные площадки под измерения - как наличие питания, так и какие-то сигналы от чипа аля ALL\_SYS\_GOOD или что-то подобное.   
 Ноуты так и диагностируют в частности - тыкают мультимером. Индикатор там обычно один - индикатор зарядки, если и он не говорит - чувак, приговаривая, "where is my pepebus-underscore-g3hot?", смотрит, что с шинами питания и с чипами, которые их генерируют ![:)](http://static.diary.ru/picture/3.gif)   
  [www.youtube.com/watch?v=nZtH3biLKwc](https://www.youtube.com/watch?v=nZtH3biLKwc)    
 ^c738904081

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (3/7) | 2019-02-26, 10:40 | roadischosen | c738905779 |

  
  светодиоды можно делать с'ёмными    
   
 Или закрыть элементами корпуса. Я как то пользовался телефоном, в котором был светодиод прямо под батареей. Он дублировал подсветку экрана с другой стороны платы, но не имел никаких световодов или щелей.   
 ^c738905779

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (4/7) | 2019-02-26, 10:47 | RetXiRT suiR@ttig@$ | c738905918 |

  
  
>   не лучше ли пиликать динамиком  

 И шоб на разные состояния — разные ноты! ![:hard:](http://static.diary.ru/picture/498313.gif) ![:super:](http://static.diary.ru/picture/1352.gif)    
 ^c738905918

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (5/7) | 2019-02-28, 08:08 | zHz00 | c738950590 |

  
  [LizardOfOzz](http://LizardsBurrow.diary.ru "One more night")  , вариант, но управление динамиком сложнее управления диодом. Кроме того, плата будет либо непрерывно пищать, либо состояние можно будет понять только в момент писка, а не в любой момент времени.   
  [RetXiRT suiR@ttig@$](http://Hellspawn.diary.ru "Fission Chips")  , разные ноты на разные состояния -- так может сделать разве что тот самый студент, который по заданию преподавателя "написать программу-калькулятор" сделал программу, считающую в римской системе счисления. А когда преподаватель сказал, что нужна ещё инструкция, сделал инструкцию на латыни.   
  [deadlymercury](http://crazysupp.diary.ru "Записки безумного саппорта")  , а ты уже постил сюда это видео раньше?   
 Да, контактные площадки на этапе серийного производства -- хороший вариант. На этапе прототипа запаиваем туда диоды и не паримся. А после -- площадки всё равно доступны для измерения.   
  [roadischosen](http://roadischosen.diary.ru)  , вот это да!   
 ^c738950590

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (6/7) | 2019-02-28, 09:06 | deadlymercury | c738951126 |

  
 Нет вроде)   
 ^c738951126

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (7/7) | 2019-02-28, 09:37 | RetXiRT suiR@ttig@$ | c738951483 |

  
   [zHz00](https://zHz00.diary.ru "Untitled")  ,  ЯННП, но на всякий случай поясняю:    
 ![](http://static.diary.ru/userdir/6/4/6/6/64669/77226554.jpg)    
 ^c738951483