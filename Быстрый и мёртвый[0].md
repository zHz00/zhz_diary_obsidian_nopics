Быстрый и мёртвый
=================

  
2022-03-26, 06:07  
 После получения запроса микроконтроллеру нужно сделать две вещи:   
 1. Ответить на запрос   
 2. Заняться сложными математическими расчётами   
   
 В каком порядке делать эти два действия?   
   
 Можно поставить целью наибольшую скорость ответа. Тогда мы отвечаем сразу, а потом начинаем считать. Однако это приводит к неожиданным последствиям.   
   
 Я сижу на другом микроконтроллере и направляю первому запрос. Получаю ответ. Отлично, можно слать следующий запрос. Но не тут-то было. Если слать запросы слишком часто, начала пакетов будут пропадать, потому что когда я шлю очередной запрос -- первый .микроконтроллер всё ещё выполняет вычисления [по некоторым причинам они непрерываемы даже при помощи прерываний].   
   
 Поэтому надо наоборот -- сначала доделать вычисления, а потом уже отправлять ответ.   
  
<https://diary.ru/~zHz00/p221126045_bystryj-i-myortvyj.htm>  
  
Теги:  
[[Программирование]]  
[[Борьба с техникой]]  
ID: p221126045  


Комментарии: 2
--------------

  


---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (1/2) | 2022-03-26, 06:38 | Солнечный ветерок | c753894257 |

  
 Ну тут главное решить, что важнее, скорость вычислений или время ответа.   
 Если вычисления в приоритете, то пусть второй контроллер периодически опрашивает первый, пока не получит ответы. Можно например сделать динамические таймауты запросов.   
 ^c753894257

---



|         #         |              Дата              |                     Автор                     |           ID           |
| --- | --- | --- | --- |
| (2/2) | 2022-03-26, 23:38 | Xersareeth | c753898592 |

  
 Пусть вычислятор сам просит новую порцию данных, раз уж его нельзя прерывать.   
 ^c753898592