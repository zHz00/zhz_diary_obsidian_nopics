Untitled [371]
==============

  
2015-07-18, 23:59  
 В программе была ошибка: при некоторых обстоятельствах в одном из полей значение пропадало.   
   
 Я выяснил, с чем это связано: на приборах, на которых  *не*  установлено некое устройство неправильно сохранялись настройки (элементы управления для его настройки не отображались, но значения по умолчанию из них всё равно записывались в файл), и при отображении в поле выбирался несуществующий режим работы -- switch проверял переменную на значения 1 и 2, секции default там не было, проверяемая переменная имела значение 0 (как раз значение по умолчанию из неотображающихся элементов управления). Мне сказали, что приборов с этим устройством в эксплуатации сейчас нет. Поэтому я отключил сохранение настроек для этого устройства вообще и всё заработало.   
   
 Прошло полгода. И мне пришлось настраивать прибор, где это устройство было установлено! Т.е. хотя мне и сказали, что приборов таких нет, они были! Точнее, такой прибор существует один. Пришлось менять обратно и включать сохранение, но добавить проверку, чтобы сохранялись настройки только если устройство установлено.   
  
<https://diary.ru/~zHz00/p205047685_untitled-371.htm>  
  
Теги:  
[[Программирование]]  
ID: p205047685  


(Комментариев нет)
------------------